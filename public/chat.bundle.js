!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([,function(e,t,n){(function(t,n){var r;r=function(){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(o,i){try{var c=t[o](i),s=c.value}catch(e){return void n(e)}if(!c.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},u=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},l=new WeakMap,f=new WeakMap,h=Promise.resolve();function p(e){if("string"!=typeof e)throw new TypeError("eventName must be a string")}function d(e){if("function"!=typeof e)throw new TypeError("listener must be a function")}function v(e,t){var n=f.get(e);return n.has(t)||n.set(t,new Set),n.get(t)}var y=function(){function e(){o(this,e),l.set(this,new Set),f.set(this,new Map)}var t,n;return i(e,[{key:"on",value:function(e,t){return p(e),d(t),v(this,e).add(t),this.off.bind(this,e,t)}},{key:"off",value:function(e,t){p(e),d(t),v(this,e).delete(t)}},{key:"once",value:function(e){var t=this;return new Promise((function(n){p(e);var r=t.on(e,(function(e){r(),n(e)}))}))}},{key:"emit",value:(n=r(regeneratorRuntime.mark((function e(t,n){var o,i,c,s,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(t),o=v(this,t),i=l.get(this),c=[].concat(u(o)),s=[].concat(u(i)),e.next=7,h;case 7:return e.abrupt("return",Promise.all([].concat(u(c.map(function(){var e=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.has(t)){e.next=2;break}return e.abrupt("return",t(n));case 2:case"end":return e.stop()}}),e,a)})));return function(t){return e.apply(this,arguments)}}())),u(s.map(function(){var e=r(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.has(r)){e.next=2;break}return e.abrupt("return",r(t,n));case 2:case"end":return e.stop()}}),e,a)})));return function(t){return e.apply(this,arguments)}}())))));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"emitSerial",value:(t=r(regeneratorRuntime.mark((function e(t,n){var r,o,i,c,s,a,f,d,y,m,g,b,w,k,_,E;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(t),r=v(this,t),o=l.get(this),i=[].concat(u(r)),c=[].concat(u(o)),e.next=7,h;case 7:s=!0,a=!1,f=void 0,e.prev=10,d=i[Symbol.iterator]();case 12:if(s=(y=d.next()).done){e.next=20;break}if(m=y.value,!r.has(m)){e.next=17;break}return e.next=17,m(n);case 17:s=!0,e.next=12;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(10),a=!0,f=e.t0;case 26:e.prev=26,e.prev=27,!s&&d.return&&d.return();case 29:if(e.prev=29,!a){e.next=32;break}throw f;case 32:return e.finish(29);case 33:return e.finish(26);case 34:g=!0,b=!1,w=void 0,e.prev=37,k=c[Symbol.iterator]();case 39:if(g=(_=k.next()).done){e.next=47;break}if(E=_.value,!o.has(E)){e.next=44;break}return e.next=44,E(t,n);case 44:g=!0,e.next=39;break;case 47:e.next=53;break;case 49:e.prev=49,e.t1=e.catch(37),b=!0,w=e.t1;case 53:e.prev=53,e.prev=54,!g&&k.return&&k.return();case 56:if(e.prev=56,!b){e.next=59;break}throw w;case 59:return e.finish(56);case 60:return e.finish(53);case 61:case"end":return e.stop()}}),e,this,[[10,22,26,34],[27,,29,33],[37,49,53,61],[54,,56,60]])}))),function(e,n){return t.apply(this,arguments)})},{key:"onAny",value:function(e){return d(e),l.get(this).add(e),this.offAny.bind(this,e)}},{key:"offAny",value:function(e){d(e),l.get(this).delete(e)}},{key:"clearListeners",value:function(e){if("string"==typeof e)v(this,e).clear();else{l.get(this).clear();var t=!0,n=!1,r=void 0;try{for(var o,i=f.get(this).values()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0)o.value.clear()}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}}},{key:"listenerCount",value:function(e){if("string"==typeof e)return l.get(this).size+v(this,e).size;void 0!==e&&p(e);var t=l.get(this).size,n=!0,r=!1,o=void 0;try{for(var i,c=f.get(this).values()[Symbol.iterator]();!(n=(i=c.next()).done);n=!0)t+=i.value.size}catch(e){r=!0,o=e}finally{try{!n&&c.return&&c.return()}finally{if(r)throw o}}return t}}]),e}();y.Typed=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),t}(y),Object.defineProperty(y.Typed,"Typed",{enumerable:!1,value:void 0});var m=y;function g(e,t){return t.encode?t.strict?encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):encodeURIComponent(e):e}var b=function(e,t){!1===(t=c({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[g(t,e),"[",r,"]"].join(""):[g(t,e),"[",g(r,e),"]=",g(n,e)].join("")};case"bracket":return function(t,n){return null===n?g(t,e):[g(t,e),"[]=",g(n,e)].join("")};default:return function(t,n){return null===n?g(t,e):[g(t,e),"=",g(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map((function(r){var o=e[r];if(void 0===o)return"";if(null===o)return g(r,t);if(Array.isArray(o)){var i=[],c=!0,s=!1,a=void 0;try{for(var u,l=o.slice()[Symbol.iterator]();!(c=(u=l.next()).done);c=!0){var f=u.value;void 0!==f&&i.push(n(r,f,i.length))}}catch(e){s=!0,a=e}finally{try{!c&&l.return&&l.return()}finally{if(s)throw a}}return i.join("&")}return g(r,t)+"="+g(o,t)})).filter((function(e){return e.length>0})).join("&"):""};function w(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;var k=w((function(t,n){t.exports=function(){var t="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return void 0===t?"undefined":e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":e(t)},n={OPEN:0,JOIN:1,LEAVE:2,JOIN_ACK:3,JOIN_ERROR:4,LEAVE_ACK:5,LEAVE_ERROR:6,EVENT:7,PING:8,PONG:9};function r(e,t,n){return n.forEach((function(e){!function(e,t){if(!e||"string"!=typeof e)throw new Error(t)}(t[e],"expected "+e+" to be a valid string")})),{t:e,d:t}}var o={};return Object.keys(n).forEach((function(e){var r=e.toLowerCase().replace(/^\w|_(\w)/g,(function(e,t){return t?t.toUpperCase():e.toUpperCase()}));o["is"+r+"Packet"]=function(r){return!(!r||"object"!==(void 0===r?"undefined":t(r))||r.t!==n[e])}})),o.hasTopic=function(e){return!!(e&&e.d&&e.d.topic)},o.isValidJoinPacket=o.hasTopic,o.isValidLeavePacket=o.hasTopic,o.isValidEventPacket=o.hasTopic,o.joinPacket=function(e){return r(n.JOIN,{topic:e},["topic"])},o.leavePacket=function(e){return r(n.LEAVE,{topic:e},["topic"])},o.joinAckPacket=function(e){return r(n.JOIN_ACK,{topic:e},["topic"])},o.joinErrorPacket=function(e,t){return r(n.JOIN_ERROR,{topic:e,message:t},["topic","message"])},o.leaveAckPacket=function(e){return r(n.LEAVE_ACK,{topic:e},["topic"])},o.leaveErrorPacket=function(e,t){return r(n.LEAVE_ERROR,{topic:e,message:t},["topic","message"])},o.eventPacket=function(e,t,o){return r(n.EVENT,{topic:e,event:t,data:o=o||""},["topic","event"])},o.pingPacket=function(){return{t:n.PING}},o.pongPacket=function(){return{t:n.PONG}},c({codes:n},o)}()})),_=1e3,E=6e4,x=60*E,S=24*x,L=function(t,n){n=n||{};var r=void 0===t?"undefined":e(t);if("string"===r&&t.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*S;case"hours":case"hour":case"hrs":case"hr":case"h":return n*x;case"minutes":case"minute":case"mins":case"min":case"m":return n*E;case"seconds":case"second":case"secs":case"sec":case"s":return n*_;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(t);if("number"===r&&!1===isNaN(t))return n.long?function(e){return P(e,S,"day")||P(e,x,"hour")||P(e,E,"minute")||P(e,_,"second")||e+" ms"}(t):function(e){return e>=S?Math.round(e/S)+"d":e>=x?Math.round(e/x)+"h":e>=E?Math.round(e/E)+"m":e>=_?Math.round(e/_)+"s":e+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function P(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var O=w((function(e,t){var n;function r(e){function r(){if(r.enabled){var e=r,o=+new Date,i=o-(n||o);e.diff=i,e.prev=n,e.curr=o,n=o;for(var c=new Array(arguments.length),s=0;s<c.length;s++)c[s]=arguments[s];c[0]=t.coerce(c[0]),"string"!=typeof c[0]&&c.unshift("%O");var a=0;c[0]=c[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;a++;var o=t.formatters[r];if("function"==typeof o){var i=c[a];n=o.call(e,i),c.splice(a,1),a--}return n})),t.formatArgs.call(e,c);var u=r.log||t.log||console.log.bind(console);u.apply(e,c)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(r),r}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&("-"===(e=n[o].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=L,t.names=[],t.skips=[],t.formatters={}})),A=(O.coerce,O.disable,O.enable,O.enabled,O.humanize,O.names,O.skips,O.formatters,w((function(t,r){function o(){var e;try{e=r.storage.debug}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e}(r=t.exports=O).log=function(){return"object"===("undefined"==typeof console?"undefined":e(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},r.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+r.humanize(this.diff),t){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))})),e.splice(i,0,n)}},r.save=function(e){try{null==e?r.storage.removeItem("debug"):r.storage.debug=e}catch(e){}},r.load=o,r.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],r.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},r.enable(o())}))),T=(A.log,A.formatArgs,A.save,A.load,A.useColors,A.storage,A.colors,w((function(e){var t=A;t.enable("adonis:*"),e.exports=t("adonis:websocket")}))),j=function(){function e(t,n){o(this,e),this.topic=t,this.connection=n,this.emitter=new m,this._state="pending",this._emitBuffer=[]}return i(e,[{key:"joinAck",value:function(){var e=this;this.state="open",this.emitter.emit("ready",this),T("clearing emit buffer for %s topic after subscription ack",this.topic),this._emitBuffer.forEach((function(t){return e.emit(t.event,t.data)})),this._emitBuffer=[]}},{key:"joinError",value:function(e){this.state="error",this.emitter.emit("error",e),this.serverClose()}},{key:"leaveAck",value:function(){this.state="closed",this.serverClose()}},{key:"leaveError",value:function(e){this.emitter.emit("leaveError",e)}},{key:"on",value:function(){var e;(e=this.emitter).on.apply(e,arguments)}},{key:"once",value:function(){var e;(e=this.emitter).once.apply(e,arguments)}},{key:"off",value:function(){var e;(e=this.emitter).off.apply(e,arguments)}},{key:"emit",value:function(e,t){"pending"!==this.state?this.connection.sendEvent(this.topic,e,t):this._emitBuffer.push({event:e,data:t})}},{key:"serverClose",value:function(){var e=this;return this.emitter.emit("close",this).then((function(){e._emitBuffer=[],e.emitter.clearListeners()})).catch((function(){e._emitBuffer=[],e.emitter.clearListeners()}))}},{key:"serverEvent",value:function(e){var t=e.event,n=e.data;this.emitter.emit(t,n)}},{key:"serverError",value:function(){this.state="error"}},{key:"close",value:function(){this.state="closing",T("closing subscription for %s topic with server",this.topic),this.connection.sendPacket(k.leavePacket(this.topic))}},{key:"terminate",value:function(){this.leaveAck()}},{key:"state",get:function(){return this._state},set:function(e){if(-1===!this.constructor.states.indexOf(e))throw new Error(e+" is not a valid socket state");this._state=e}}],[{key:"states",get:function(){return["pending","open","closed","closing","error"]}}]),e}(),C={name:"json",encode:function(e,t){var n=null;try{n=JSON.stringify(e)}catch(e){return t(e)}t(null,n)},decode:function(e,t){var n=null;try{n=JSON.parse(e)}catch(e){return t(e)}t(null,n)}},N="https:"===window.location.protocol?"wss":"ws",R=function(e){function t(e,n){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e=e||N+"://"+window.location.host,r.options=c({path:"adonis-ws",reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3,query:null,encoder:C},n),T("connection options %o",r.options),r._connectionState="idle",r._reconnectionAttempts=0,r._packetsQueue=[],r._processingQueue=!1,r._pingTimer=null,r._extendedQuery={},r._url=e.replace(/\/$/,"")+"/"+r.options.path,r.subscriptions={},r.removeSubscription=function(e){var t=e.topic;delete r.subscriptions[t]},r}return s(t,e),i(t,[{key:"_cleanup",value:function(){clearInterval(this._pingTimer),this.ws=null,this._pingTimer=null}},{key:"_subscriptionsIterator",value:function(e){var t=this;Object.keys(this.subscriptions).forEach((function(n){return e(t.subscriptions[n],n)}))}},{key:"_ensureSubscription",value:function(e,t){var n=this.getSubscription(e.d.topic);n?t(n,e):T("cannot consume packet since %s topic has no active subscription %j",e.d.topic,e)}},{key:"_processQueue",value:function(){var e=this;!this._processingQueue&&this._packetsQueue.length&&(this._processingQueue=!0,this.options.encoder.encode(this._packetsQueue.shift(),(function(t,n){t?T("encode error %j",t):(e.write(n),e._processingQueue=!1,e._processQueue())})))}},{key:"_onOpen",value:function(){T("opened")}},{key:"_onError",value:function(e){T("error %O",e),this._subscriptionsIterator((function(e){return e.serverError()})),this.emit("error",e)}},{key:"_reconnect",value:function(){var e=this;this._reconnectionAttempts++,this.emit("reconnect",this._reconnectionAttempts),setTimeout((function(){e._connectionState="reconnect",e.connect()}),this.options.reconnectionDelay*this._reconnectionAttempts)}},{key:"_onClose",value:function(e){var t=this;T("closing from %s state",this._connectionState),this._cleanup(),this._subscriptionsIterator((function(e){return e.terminate()})),this.emit("close",this).then((function(){t.shouldReconnect?t._reconnect():t.clearListeners()})).catch((function(){t.shouldReconnect?t._reconnect():t.clearListeners()}))}},{key:"_onMessage",value:function(e){var t=this;this.options.encoder.decode(e.data,(function(e,n){e?T("packet dropped, decode error %o",e):t._handleMessage(n)}))}},{key:"_handleMessage",value:function(e){return k.isOpenPacket(e)?(T("open packet"),void this._handleOpen(e)):k.isJoinAckPacket(e)?(T("join ack packet"),void this._handleJoinAck(e)):k.isJoinErrorPacket(e)?(T("join error packet"),void this._handleJoinError(e)):k.isLeaveAckPacket(e)?(T("leave ack packet"),void this._handleLeaveAck(e)):k.isLeaveErrorPacket(e)?(T("leave error packet"),void this._handleLeaveError(e)):k.isLeavePacket(e)?(T("leave packet"),void this._handleServerLeave(e)):k.isEventPacket(e)?(T("event packet"),void this._handleEvent(e)):void(k.isPongPacket(e)?T("pong packet"):T("invalid packet type %d",e.t))}},{key:"_handleOpen",value:function(e){var t=this;this._connectionState="open",this.emit("open",e.d),this._pingTimer=setInterval((function(){t.sendPacket(k.pingPacket())}),e.d.clientInterval),T("processing pre connection subscriptions %o",Object.keys(this.subscriptions)),this._subscriptionsIterator((function(e){t._sendSubscriptionPacket(e.topic)}))}},{key:"_handleJoinAck",value:function(e){this._ensureSubscription(e,(function(e){return e.joinAck()}))}},{key:"_handleJoinError",value:function(e){this._ensureSubscription(e,(function(e,t){return e.joinError(t.d)}))}},{key:"_handleLeaveAck",value:function(e){this._ensureSubscription(e,(function(e){return e.leaveAck()}))}},{key:"_handleLeaveError",value:function(e){this._ensureSubscription(e,(function(e,t){return e.leaveError(t.d)}))}},{key:"_handleServerLeave",value:function(e){this._ensureSubscription(e,(function(e,t){return e.leaveAck()}))}},{key:"_handleEvent",value:function(e){this._ensureSubscription(e,(function(e,t){return e.serverEvent(t.d)}))}},{key:"_sendSubscriptionPacket",value:function(e){T("initiating subscription for %s topic with server",e),this.sendPacket(k.joinPacket(e))}},{key:"connect",value:function(){var e=this,t=b(c({},this.options.query,this._extendedQuery)),n=t?this._url+"?"+t:this._url;return T("creating socket connection on %s url",n),this.ws=new window.WebSocket(n),this.ws.onclose=function(t){return e._onClose(t)},this.ws.onerror=function(t){return e._onError(t)},this.ws.onopen=function(t){return e._onOpen(t)},this.ws.onmessage=function(t){return e._onMessage(t)},this}},{key:"write",value:function(e){this.ws.readyState===window.WebSocket.OPEN?this.ws.send(e):T("connection is not in open state, current state %s",this.ws.readyState)}},{key:"sendPacket",value:function(e){this._packetsQueue.push(e),this._processQueue()}},{key:"getSubscription",value:function(e){return this.subscriptions[e]}},{key:"hasSubcription",value:function(e){return!!this.getSubscription(e)}},{key:"subscribe",value:function(e){if(!e||"string"!=typeof e)throw new Error("subscribe method expects topic to be a valid string");if(this.subscriptions[e])throw new Error("Cannot subscribe to same topic twice. Instead use getSubscription");var t=new j(e,this);return t.on("close",this.removeSubscription),this.subscriptions[e]=t,"open"===this._connectionState&&this._sendSubscriptionPacket(e),t}},{key:"sendEvent",value:function(e,t,n){if(!e||!t)throw new Error("topic and event name is required to call sendEvent method");var r=this.getSubscription(e);if(!r)throw new Error("There is no active subscription for "+e+" topic");if("open"!==r.state)throw new Error("Cannot emit since subscription socket is in "+this.state+" state");T("sending event on %s topic",e),this.sendPacket(k.eventPacket(e,t,n))}},{key:"withJwtToken",value:function(e){return this._extendedQuery.token=e,this}},{key:"withBasicAuth",value:function(e,t){return this._extendedQuery.basic=window.btoa(e+":"+t),this}},{key:"withApiToken",value:function(e){return this._extendedQuery.token=e,this}},{key:"close",value:function(){this._connectionState="terminated",this.ws.close()}},{key:"shouldReconnect",get:function(){return"terminated"!==this._connectionState&&this.options.reconnection&&this.options.reconnectionAttempts>this._reconnectionAttempts}}]),t}(m);return function(e,t){return new R(e,t)}},e.exports=r()}).call(this,n(5),n(6))},,function(e,t,n){"use strict";n.r(t);n(4);var r=n(1),o=n.n(r),i=null,c=null,s=!1,a=document.querySelector("#message"),u=document.querySelector("#chat-form"),l=document.querySelector("#messages-container");l.scrollTop=l.scrollHeight;var f=location.pathname.replace("/channels/","");(i=o()().connect()).on("open",(function(){console.log("open"),!0,h()})),i.on("error",(function(){console.log("ws error"),!1})),i.on("close",(function(){console.log("ws close"),!1}));var h=function(){(c=i.subscribe("chat:".concat(f))).on("ready",(function(){c.emit("connected")})),c.on("error",(function(e){console.log("chat error",e)})),c.on("close",(function(){console.log("chat close")})),c.on("message",(function(e){var t=document.createElement("article");t.classList.add("chat-message","media","has-background-light");var n=document.createElement("div");n.classList.add("media-content");var r=document.createElement("div");r.classList.add("content");var o=document.createElement("p"),i=document.createElement("strong"),c=document.createElement("small"),s=document.createElement("br"),a=document.createElement("br"),u=document.createTextNode(e.message.body);i.innerHTML=e.username+" ",c.innerHTML=e.deliveredAt,o.appendChild(i),o.appendChild(c),o.appendChild(s),o.appendChild(u),o.appendChild(a),r.appendChild(o),n.appendChild(r),t.appendChild(n),l.appendChild(t),l.scrollTop=l.scrollHeight})),c.on("typing",(function(e){var t=document.createElement("article");t.classList.add("chat-message","media","has-background-light","typing-".concat(e.replace(/\s/g,"")));var n=document.createElement("div");n.classList.add("media-content");var r=document.createElement("div");r.classList.add("content");var o=document.createElement("p"),i=document.createTextNode("".concat(e," is typing ..."));o.appendChild(i),r.appendChild(o),n.appendChild(r),t.appendChild(n),l.appendChild(t),l.scrollTop=l.scrollHeight})),c.on("stopTyping",(function(e){document.querySelector(".typing-".concat(e)).remove()}))};a.addEventListener("input",(function(e){s||(s=!0,c.emit("typing"));var t=(new Date).getTime();setTimeout((function(){(new Date).getTime()-t>=4e3&&s&&(c.emit("stopTyping"),s=!1)}),4e3)})),u.addEventListener("submit",(function(e){e.preventDefault(),a.value.length&&c.emit("message",{body:a.value,channel:f}),c.emit("stopTyping"),s=!1,a.value="",a.focus()}))},function(e,t){!function(t){"use strict";var n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",a="object"==typeof e,u=t.regeneratorRuntime;if(u)a&&(e.exports=u);else{(u=t.regeneratorRuntime=a?e.exports:{}).wrap=v;var l={},f={};f[i]=function(){return this};var h=Object.getPrototypeOf,p=h&&h(h(L([])));p&&p!==n&&r.call(p,i)&&(f=p);var d=b.prototype=m.prototype=Object.create(f);g.prototype=d.constructor=b,b.constructor=g,b[s]=g.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(d),e},u.awrap=function(e){return{__await:e}},w(k.prototype),k.prototype[c]=function(){return this},u.AsyncIterator=k,u.async=function(e,t,n,r){var o=new k(v(e,t,n,r));return u.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(d),d[s]="Generator",d[i]=function(){return this},d.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},u.values=L,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return c.type="throw",c.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),a=r.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var c=i?i.completion:{};return c.type=e,c.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}}}function v(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new S(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var s=_(c,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var a=y(e,t,n);if("normal"===a.type){if(r=n.done?"completed":"suspendedYield",a.arg===l)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(r="completed",n.method="throw",n.arg=a.arg)}}}(e,n,c),i}function y(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function m(){}function g(){}function b(){}function w(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function k(e){var t;this._invoke=function(n,o){function i(){return new Promise((function(t,i){!function t(n,o,i,c){var s=y(e[n],e,o);if("throw"!==s.type){var a=s.arg,u=a.value;return u&&"object"==typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,i,c)}),(function(e){t("throw",e,i,c)})):Promise.resolve(u).then((function(e){a.value=e,i(a)}),c)}c(s.arg)}(n,o,t,i)}))}return t=t?t.then(i,i):i()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=y(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:c}catch(e){r=c}}();var a,u=[],l=!1,f=-1;function h(){l&&a&&(l=!1,a.length?u=a.concat(u):f=-1,u.length&&p())}function p(){if(!l){var e=s(h);l=!0;for(var t=u.length;t;){for(a=u,u=[];++f<t;)a&&a[f].run();f=-1,t=u.length}a=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===c||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BhZG9uaXNqcy93ZWJzb2NrZXQtY2xpZW50L2Rpc3QvV3MuYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvYXNzZXRzL3NjcmlwdHMvY2hhdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl90eXBlb2YiLCJpdGVyYXRvciIsIm9iaiIsImNvbnN0cnVjdG9yIiwiYXN5bmNUb0dlbmVyYXRvciIsImZuIiwiZ2VuIiwiYXBwbHkiLCJ0aGlzIiwiYXJndW1lbnRzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzdGVwIiwiYXJnIiwiaW5mbyIsImVycm9yIiwiZG9uZSIsInRoZW4iLCJlcnIiLCJjbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJjcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9leHRlbmRzIiwiYXNzaWduIiwic291cmNlIiwiaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsInBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJ0b0NvbnN1bWFibGVBcnJheSIsImFyciIsIkFycmF5IiwiaXNBcnJheSIsImFycjIiLCJmcm9tIiwiYW55TWFwIiwiV2Vha01hcCIsImV2ZW50c01hcCIsInJlc29sdmVkUHJvbWlzZSIsImFzc2VydEV2ZW50TmFtZSIsImV2ZW50TmFtZSIsImFzc2VydExpc3RlbmVyIiwibGlzdGVuZXIiLCJnZXRMaXN0ZW5lcnMiLCJldmVudHMiLCJoYXMiLCJzZXQiLCJTZXQiLCJFbWl0dGVyeSIsIk1hcCIsIl9yZWY0IiwiX3JlZiIsImFkZCIsIm9mZiIsImRlbGV0ZSIsIl90aGlzIiwib24iLCJkYXRhIiwicmVnZW5lcmF0b3JSdW50aW1lIiwibWFyayIsIl9jYWxsZWUzIiwiZXZlbnREYXRhIiwibGlzdGVuZXJzIiwiYW55TGlzdGVuZXJzIiwic3RhdGljTGlzdGVuZXJzIiwic3RhdGljQW55TGlzdGVuZXJzIiwiX3RoaXMyIiwid3JhcCIsIl9jb250ZXh0MyIsInByZXYiLCJuZXh0IiwiY29uY2F0IiwiYWJydXB0IiwiYWxsIiwibWFwIiwiX3JlZjIiLCJfY2FsbGVlIiwiX2NvbnRleHQiLCJzdG9wIiwiX3gzIiwiX3JlZjMiLCJfY2FsbGVlMiIsIl9jb250ZXh0MiIsIl94NCIsIl94IiwiX3gyIiwiX2NhbGxlZTQiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uIiwiX2RpZEl0ZXJhdG9yRXJyb3IiLCJfaXRlcmF0b3JFcnJvciIsIl9pdGVyYXRvciIsIl9zdGVwIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIiLCJfZGlkSXRlcmF0b3JFcnJvcjIiLCJfaXRlcmF0b3JFcnJvcjIiLCJfaXRlcmF0b3IyIiwiX3N0ZXAyIiwiX2xpc3RlbmVyIiwiX2NvbnRleHQ0IiwidW5kZWZpbmVkIiwidDAiLCJyZXR1cm4iLCJmaW5pc2giLCJ0MSIsIl94NSIsIl94NiIsIm9mZkFueSIsImNsZWFyIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMiLCJfZGlkSXRlcmF0b3JFcnJvcjMiLCJfaXRlcmF0b3JFcnJvcjMiLCJfc3RlcDMiLCJfaXRlcmF0b3IzIiwidmFsdWVzIiwic2l6ZSIsImNvdW50IiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQiLCJfZGlkSXRlcmF0b3JFcnJvcjQiLCJfaXRlcmF0b3JFcnJvcjQiLCJfc3RlcDQiLCJfaXRlcmF0b3I0IiwiVHlwZWQiLCJfRW1pdHRlcnkiLCJfY2xhc3MiLCJnZXRQcm90b3R5cGVPZiIsImVtaXR0ZXJ5IiwiZW5jb2RlIiwib3B0aW9ucyIsInN0cmljdCIsImVuY29kZVVSSUNvbXBvbmVudCIsInJlcGxhY2UiLCJ4IiwiY2hhckNvZGVBdCIsInRvU3RyaW5nIiwidG9VcHBlckNhc2UiLCJzdHJpbmdpZnkiLCJhcnJheUZvcm1hdCIsInNvcnQiLCJmb3JtYXR0ZXIiLCJpbmRleCIsImpvaW4iLCJlbmNvZGVyRm9yQXJyYXlGb3JtYXQiLCJrZXlzIiwicmVzdWx0Iiwic2xpY2UiLCJ2YWx1ZTIiLCJwdXNoIiwiZmlsdGVyIiwiY3JlYXRlQ29tbW9uanNNb2R1bGUiLCJ3aW5kb3ciLCJnbG9iYWwiLCJ3c3BfYnJvd3NlciIsImUiLCJPUEVOIiwiSk9JTiIsIkxFQVZFIiwiSk9JTl9BQ0siLCJKT0lOX0VSUk9SIiwiTEVBVkVfQUNLIiwiTEVBVkVfRVJST1IiLCJFVkVOVCIsIlBJTkciLCJQT05HIiwiZm9yRWFjaCIsIkVycm9yIiwidG9Mb3dlckNhc2UiLCJoYXNUb3BpYyIsInRvcGljIiwiaXNWYWxpZEpvaW5QYWNrZXQiLCJpc1ZhbGlkTGVhdmVQYWNrZXQiLCJpc1ZhbGlkRXZlbnRQYWNrZXQiLCJqb2luUGFja2V0IiwibGVhdmVQYWNrZXQiLCJqb2luQWNrUGFja2V0Iiwiam9pbkVycm9yUGFja2V0IiwibWVzc2FnZSIsImxlYXZlQWNrUGFja2V0IiwibGVhdmVFcnJvclBhY2tldCIsImV2ZW50UGFja2V0IiwiZXZlbnQiLCJwaW5nUGFja2V0IiwicG9uZ1BhY2tldCIsImNvZGVzIiwiaCIsIm1zIiwidmFsIiwidHlwZSIsInN0ciIsIlN0cmluZyIsIm1hdGNoIiwiZXhlYyIsInBhcnNlRmxvYXQiLCJwYXJzZSQxIiwiaXNOYU4iLCJsb25nIiwicGx1cmFsIiwiZm10TG9uZyIsIk1hdGgiLCJyb3VuZCIsImZtdFNob3J0IiwiSlNPTiIsImZsb29yIiwiY2VpbCIsImRlYnVnIiwicHJldlRpbWUiLCJjcmVhdGVEZWJ1ZyIsIm5hbWVzcGFjZSIsImVuYWJsZWQiLCJjdXJyIiwiRGF0ZSIsIm1zJCQxIiwiZGlmZiIsImFyZ3MiLCJjb2VyY2UiLCJ1bnNoaWZ0IiwiZm9ybWF0IiwiZm9ybWF0dGVycyIsInNwbGljZSIsImZvcm1hdEFyZ3MiLCJsb2dGbiIsImxvZyIsImNvbnNvbGUiLCJ1c2VDb2xvcnMiLCJjb2xvciIsImhhc2giLCJjb2xvcnMiLCJhYnMiLCJzZWxlY3RDb2xvciIsImluaXQiLCJzdGFjayIsImRpc2FibGUiLCJlbmFibGUiLCJuYW1lc3BhY2VzIiwic2F2ZSIsIm5hbWVzIiwic2tpcHMiLCJzcGxpdCIsImxlbiIsIlJlZ0V4cCIsInN1YnN0ciIsInRlc3QiLCJodW1hbml6ZSIsImJyb3dzZXIiLCJsb2FkIiwic3RvcmFnZSIsInByb2Nlc3MiLCJlbnYiLCJERUJVRyIsIkZ1bmN0aW9uIiwibGFzdEMiLCJyZW1vdmVJdGVtIiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJzdHlsZSIsIldlYmtpdEFwcGVhcmFuY2UiLCJmaXJlYnVnIiwiZXhjZXB0aW9uIiwidGFibGUiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJwYXJzZUludCIsIiQxIiwiY2hyb21lIiwibG9jYWwiLCJsb2NhbFN0b3JhZ2UiLCJsb2NhbHN0b3JhZ2UiLCJqIiwidiIsIkRlYnVnIiwiX0RlYnVnIiwiU29ja2V0IiwiY29ubmVjdGlvbiIsImVtaXR0ZXIiLCJfc3RhdGUiLCJfZW1pdEJ1ZmZlciIsInN0YXRlIiwiZW1pdCIsImJ1ZiIsInBhY2tldCIsInNlcnZlckNsb3NlIiwiX2VtaXR0ZXIiLCJfZW1pdHRlcjIiLCJvbmNlIiwiX2VtaXR0ZXIzIiwic2VuZEV2ZW50IiwiY2xlYXJMaXN0ZW5lcnMiLCJjYXRjaCIsInNlbmRQYWNrZXQiLCJsZWF2ZUFjayIsInN0YXRlcyIsImluZGV4T2YiLCJKc29uRW5jb2RlciIsInBheWxvYWQiLCJjYWxsYmFjayIsImVuY29kZWQiLCJkZWNvZGUiLCJkZWNvZGVkIiwicGFyc2UiLCJ3c1Byb3RvY29sIiwibG9jYXRpb24iLCJwcm90b2NvbCIsIkNvbm5lY3Rpb24iLCJfRW1pdHRlciIsInVybCIsImhvc3QiLCJwYXRoIiwicmVjb25uZWN0aW9uIiwicmVjb25uZWN0aW9uQXR0ZW1wdHMiLCJyZWNvbm5lY3Rpb25EZWxheSIsInF1ZXJ5IiwiZW5jb2RlciIsIl9jb25uZWN0aW9uU3RhdGUiLCJfcmVjb25uZWN0aW9uQXR0ZW1wdHMiLCJfcGFja2V0c1F1ZXVlIiwiX3Byb2Nlc3NpbmdRdWV1ZSIsIl9waW5nVGltZXIiLCJfZXh0ZW5kZWRRdWVyeSIsIl91cmwiLCJzdWJzY3JpcHRpb25zIiwicmVtb3ZlU3Vic2NyaXB0aW9uIiwiY2xlYXJJbnRlcnZhbCIsIndzIiwic3ViIiwiY2IiLCJzb2NrZXQiLCJnZXRTdWJzY3JpcHRpb24iLCJfdGhpczMiLCJzaGlmdCIsIndyaXRlIiwiX3Byb2Nlc3NRdWV1ZSIsIl9zdWJzY3JpcHRpb25zSXRlcmF0b3IiLCJzdWJzY3JpcHRpb24iLCJzZXJ2ZXJFcnJvciIsIl90aGlzNCIsInNldFRpbWVvdXQiLCJjb25uZWN0IiwiX3RoaXM1IiwiX2NsZWFudXAiLCJ0ZXJtaW5hdGUiLCJzaG91bGRSZWNvbm5lY3QiLCJfcmVjb25uZWN0IiwiX3RoaXM2IiwiZGVjb2RlRXJyb3IiLCJfaGFuZGxlTWVzc2FnZSIsImlzT3BlblBhY2tldCIsIl9oYW5kbGVPcGVuIiwiaXNKb2luQWNrUGFja2V0IiwiX2hhbmRsZUpvaW5BY2siLCJpc0pvaW5FcnJvclBhY2tldCIsIl9oYW5kbGVKb2luRXJyb3IiLCJpc0xlYXZlQWNrUGFja2V0IiwiX2hhbmRsZUxlYXZlQWNrIiwiaXNMZWF2ZUVycm9yUGFja2V0IiwiX2hhbmRsZUxlYXZlRXJyb3IiLCJpc0xlYXZlUGFja2V0IiwiX2hhbmRsZVNlcnZlckxlYXZlIiwiaXNFdmVudFBhY2tldCIsIl9oYW5kbGVFdmVudCIsImlzUG9uZ1BhY2tldCIsIl90aGlzNyIsInNldEludGVydmFsIiwiY2xpZW50SW50ZXJ2YWwiLCJfc2VuZFN1YnNjcmlwdGlvblBhY2tldCIsIl9lbnN1cmVTdWJzY3JpcHRpb24iLCJqb2luQWNrIiwiam9pbkVycm9yIiwibGVhdmVFcnJvciIsInNlcnZlckV2ZW50IiwiX3RoaXM4IiwiV2ViU29ja2V0Iiwib25jbG9zZSIsIl9vbkNsb3NlIiwib25lcnJvciIsIl9vbkVycm9yIiwib25vcGVuIiwiX29uT3BlbiIsIm9ubWVzc2FnZSIsIl9vbk1lc3NhZ2UiLCJyZWFkeVN0YXRlIiwic2VuZCIsInRva2VuIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImJhc2ljIiwiYnRvYSIsImNsb3NlIiwiZmFjdG9yeSIsImNoYXQiLCJpc1R5cGluZyIsIm1lc3NhZ2VJbnB1dCIsInF1ZXJ5U2VsZWN0b3IiLCJjaGF0Rm9ybSIsIm1lc3NhZ2VzQ29udGFpbmVyIiwic2Nyb2xsVG9wIiwic2Nyb2xsSGVpZ2h0IiwicGF0aG5hbWUiLCJXcyIsInN1YnNjcmliZVRvQ2hhbm5lbCIsInN1YnNjcmliZSIsImFydGljbGVOb2RlIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsIm1lZGlhQ29udGVudE5vZGUiLCJjb250ZW50Tm9kZSIsInBhcmFncmFwaE5vZGUiLCJzdHJvbmdOb2RlIiwic21hbGxOb2RlIiwiYnIxTm9kZSIsImJyMk5vZGUiLCJtZXNzYWdlVmFsdWUiLCJjcmVhdGVUZXh0Tm9kZSIsImJvZHkiLCJpbm5lckhUTUwiLCJkZWxpdmVyZWRBdCIsImFwcGVuZENoaWxkIiwidXNlclR5cGluZyIsInJlbW92ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJsYXN0VHlwaW5nVGltZSIsImdldFRpbWUiLCJwcmV2ZW50RGVmYXVsdCIsImNoYW5uZWwiLCJmb2N1cyIsIk9wIiwiaGFzT3duIiwiJFN5bWJvbCIsIml0ZXJhdG9yU3ltYm9sIiwiYXN5bmNJdGVyYXRvclN5bWJvbCIsImFzeW5jSXRlcmF0b3IiLCJ0b1N0cmluZ1RhZ1N5bWJvbCIsImluTW9kdWxlIiwicnVudGltZSIsIkNvbnRpbnVlU2VudGluZWwiLCJJdGVyYXRvclByb3RvdHlwZSIsImdldFByb3RvIiwiTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUiLCJHcCIsIkdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlIiwiR2VuZXJhdG9yIiwiR2VuZXJhdG9yRnVuY3Rpb24iLCJkaXNwbGF5TmFtZSIsImlzR2VuZXJhdG9yRnVuY3Rpb24iLCJnZW5GdW4iLCJjdG9yIiwiYXdyYXAiLCJfX2F3YWl0IiwiZGVmaW5lSXRlcmF0b3JNZXRob2RzIiwiQXN5bmNJdGVyYXRvciIsImFzeW5jIiwiaW5uZXJGbiIsIm91dGVyRm4iLCJ0cnlMb2NzTGlzdCIsIml0ZXIiLCJyZXZlcnNlIiwicG9wIiwiQ29udGV4dCIsInJlc2V0Iiwic2tpcFRlbXBSZXNldCIsInNlbnQiLCJfc2VudCIsImRlbGVnYXRlIiwibWV0aG9kIiwidHJ5RW50cmllcyIsInJlc2V0VHJ5RW50cnkiLCJjaGFyQXQiLCJyb290UmVjb3JkIiwiY29tcGxldGlvbiIsInJ2YWwiLCJkaXNwYXRjaEV4Y2VwdGlvbiIsImNvbnRleHQiLCJoYW5kbGUiLCJsb2MiLCJjYXVnaHQiLCJyZWNvcmQiLCJlbnRyeSIsInRyeUxvYyIsImhhc0NhdGNoIiwiaGFzRmluYWxseSIsImNhdGNoTG9jIiwiZmluYWxseUxvYyIsImZpbmFsbHlFbnRyeSIsImNvbXBsZXRlIiwiYWZ0ZXJMb2MiLCJ0aHJvd24iLCJkZWxlZ2F0ZVlpZWxkIiwiaXRlcmFibGUiLCJyZXN1bHROYW1lIiwibmV4dExvYyIsInByb3RvR2VuZXJhdG9yIiwiZ2VuZXJhdG9yIiwiX2ludm9rZSIsImRvbmVSZXN1bHQiLCJkZWxlZ2F0ZVJlc3VsdCIsIm1heWJlSW52b2tlRGVsZWdhdGUiLCJ0cnlDYXRjaCIsIm1ha2VJbnZva2VNZXRob2QiLCJwcmV2aW91c1Byb21pc2UiLCJjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyIsImludm9rZSIsInVud3JhcHBlZCIsInB1c2hUcnlFbnRyeSIsImxvY3MiLCJpdGVyYXRvck1ldGhvZCIsImciLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwiY2xlYXJUaW1lb3V0IiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpblF1ZXVlIiwidGltZW91dCIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJhcnJheSIsIm5vb3AiLCJuZXh0VGljayIsInRpdGxlIiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FD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SyxJQUFJNUQsRUFBSSxFQUFHQSxFQUFJeUMsVUFBVW1CLE9BQVE1RCxJQUNsQ29RLEVBQUtwUSxFQUFJLEdBQUt5QyxVQUFVekMsR0FHaENnakIsRUFBTTlXLEtBQUssSUFBSXVYLEVBQUtaLEVBQUt6UyxJQUNKLElBQWpCNFMsRUFBTXBmLFFBQWlCcWYsR0FDdkJMLEVBQVdRLElBU25CSyxFQUFLN2hCLFVBQVUwaEIsSUFBTSxXQUNqQjlnQixLQUFLcWdCLElBQUl0Z0IsTUFBTSxLQUFNQyxLQUFLa2hCLFFBRTlCclIsRUFBUXdSLE1BQVEsVUFDaEJ4UixFQUFRSCxTQUFVLEVBQ2xCRyxFQUFRQyxJQUFNLEdBQ2RELEVBQVF5UixLQUFPLEdBQ2Z6UixFQUFRMFIsUUFBVSxHQUNsQjFSLEVBQVEyUixTQUFXLEdBSW5CM1IsRUFBUTdMLEdBQUttZCxFQUNidFIsRUFBUTRSLFlBQWNOLEVBQ3RCdFIsRUFBUXFDLEtBQU9pUCxFQUNmdFIsRUFBUWhNLElBQU1zZCxFQUNkdFIsRUFBUTZSLGVBQWlCUCxFQUN6QnRSLEVBQVE4UixtQkFBcUJSLEVBQzdCdFIsRUFBUStCLEtBQU91UCxFQUNmdFIsRUFBUStSLGdCQUFrQlQsRUFDMUJ0UixFQUFRZ1Msb0JBQXNCVixFQUU5QnRSLEVBQVF2TCxVQUFZLFNBQVV2RyxHQUFRLE1BQU8sSUFFN0M4UixFQUFRaVMsUUFBVSxTQUFVL2pCLEdBQ3hCLE1BQU0sSUFBSTZNLE1BQU0scUNBR3BCaUYsRUFBUWtTLElBQU0sV0FBYyxNQUFPLEtBQ25DbFMsRUFBUW1TLE1BQVEsU0FBVUMsR0FDdEIsTUFBTSxJQUFJclgsTUFBTSxtQ0FFcEJpRixFQUFRcVMsTUFBUSxXQUFhLE9BQU8iLCJmaWxlIjoiY2hhdC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMyk7XG4iLCIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHR0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG5cdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG5cdChnbG9iYWwuYWRvbmlzID0gZ2xvYmFsLmFkb25pcyB8fCB7fSwgZ2xvYmFsLmFkb25pcy5XcyA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmo7XG59IDogZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbn07XG5cbnZhciBhc3luY1RvR2VuZXJhdG9yID0gZnVuY3Rpb24gKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGdlbiA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGZ1bmN0aW9uIHN0ZXAoa2V5LCBhcmcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgICAgICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgc3RlcChcIm5leHRcIiwgdmFsdWUpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIHN0ZXAoXCJ0aHJvd1wiLCBlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdGVwKFwibmV4dFwiKTtcbiAgICB9KTtcbiAgfTtcbn07XG5cbnZhciBjbGFzc0NhbGxDaGVjayA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG52YXIgY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59O1xuXG52YXIgaW5oZXJpdHMgPSBmdW5jdGlvbiAoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuICBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG59O1xuXG52YXIgcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiA9IGZ1bmN0aW9uIChzZWxmLCBjYWxsKSB7XG4gIGlmICghc2VsZikge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmO1xufTtcblxudmFyIHRvQ29uc3VtYWJsZUFycmF5ID0gZnVuY3Rpb24gKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgYXJyMltpXSA9IGFycltpXTtcblxuICAgIHJldHVybiBhcnIyO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBBcnJheS5mcm9tKGFycik7XG4gIH1cbn07XG5cbnZhciBhbnlNYXAgPSBuZXcgV2Vha01hcCgpO1xudmFyIGV2ZW50c01hcCA9IG5ldyBXZWFrTWFwKCk7XG52YXIgcmVzb2x2ZWRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5cbmZ1bmN0aW9uIGFzc2VydEV2ZW50TmFtZShldmVudE5hbWUpIHtcblx0aWYgKHR5cGVvZiBldmVudE5hbWUgIT09ICdzdHJpbmcnKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignZXZlbnROYW1lIG11c3QgYmUgYSBzdHJpbmcnKTtcblx0fVxufVxuXG5mdW5jdGlvbiBhc3NlcnRMaXN0ZW5lcihsaXN0ZW5lcikge1xuXHRpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cdH1cbn1cblxuZnVuY3Rpb24gZ2V0TGlzdGVuZXJzKGluc3RhbmNlLCBldmVudE5hbWUpIHtcblx0dmFyIGV2ZW50cyA9IGV2ZW50c01hcC5nZXQoaW5zdGFuY2UpO1xuXHRpZiAoIWV2ZW50cy5oYXMoZXZlbnROYW1lKSkge1xuXHRcdGV2ZW50cy5zZXQoZXZlbnROYW1lLCBuZXcgU2V0KCkpO1xuXHR9XG5cblx0cmV0dXJuIGV2ZW50cy5nZXQoZXZlbnROYW1lKTtcbn1cblxudmFyIEVtaXR0ZXJ5ID0gZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBFbWl0dGVyeSgpIHtcblx0XHRjbGFzc0NhbGxDaGVjayh0aGlzLCBFbWl0dGVyeSk7XG5cblx0XHRhbnlNYXAuc2V0KHRoaXMsIG5ldyBTZXQoKSk7XG5cdFx0ZXZlbnRzTWFwLnNldCh0aGlzLCBuZXcgTWFwKCkpO1xuXHR9XG5cblx0Y3JlYXRlQ2xhc3MoRW1pdHRlcnksIFt7XG5cdFx0a2V5OiAnb24nLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBvbihldmVudE5hbWUsIGxpc3RlbmVyKSB7XG5cdFx0XHRhc3NlcnRFdmVudE5hbWUoZXZlbnROYW1lKTtcblx0XHRcdGFzc2VydExpc3RlbmVyKGxpc3RlbmVyKTtcblx0XHRcdGdldExpc3RlbmVycyh0aGlzLCBldmVudE5hbWUpLmFkZChsaXN0ZW5lcik7XG5cdFx0XHRyZXR1cm4gdGhpcy5vZmYuYmluZCh0aGlzLCBldmVudE5hbWUsIGxpc3RlbmVyKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6ICdvZmYnLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBvZmYoZXZlbnROYW1lLCBsaXN0ZW5lcikge1xuXHRcdFx0YXNzZXJ0RXZlbnROYW1lKGV2ZW50TmFtZSk7XG5cdFx0XHRhc3NlcnRMaXN0ZW5lcihsaXN0ZW5lcik7XG5cdFx0XHRnZXRMaXN0ZW5lcnModGhpcywgZXZlbnROYW1lKS5kZWxldGUobGlzdGVuZXIpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogJ29uY2UnLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBvbmNlKGV2ZW50TmFtZSkge1xuXHRcdFx0dmFyIF90aGlzID0gdGhpcztcblxuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG5cdFx0XHRcdGFzc2VydEV2ZW50TmFtZShldmVudE5hbWUpO1xuXHRcdFx0XHR2YXIgb2ZmID0gX3RoaXMub24oZXZlbnROYW1lLCBmdW5jdGlvbiAoZGF0YSkge1xuXHRcdFx0XHRcdG9mZigpO1xuXHRcdFx0XHRcdHJlc29sdmUoZGF0YSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiAnZW1pdCcsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBfcmVmID0gYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKGV2ZW50TmFtZSwgZXZlbnREYXRhKSB7XG5cdFx0XHRcdHZhciBfdGhpczIgPSB0aGlzO1xuXG5cdFx0XHRcdHZhciBsaXN0ZW5lcnMsIGFueUxpc3RlbmVycywgc3RhdGljTGlzdGVuZXJzLCBzdGF0aWNBbnlMaXN0ZW5lcnM7XG5cdFx0XHRcdHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7XG5cdFx0XHRcdFx0d2hpbGUgKDEpIHtcblx0XHRcdFx0XHRcdHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0YXNzZXJ0RXZlbnROYW1lKGV2ZW50TmFtZSk7XG5cblx0XHRcdFx0XHRcdFx0XHRsaXN0ZW5lcnMgPSBnZXRMaXN0ZW5lcnModGhpcywgZXZlbnROYW1lKTtcblx0XHRcdFx0XHRcdFx0XHRhbnlMaXN0ZW5lcnMgPSBhbnlNYXAuZ2V0KHRoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdHN0YXRpY0xpc3RlbmVycyA9IFtdLmNvbmNhdCh0b0NvbnN1bWFibGVBcnJheShsaXN0ZW5lcnMpKTtcblx0XHRcdFx0XHRcdFx0XHRzdGF0aWNBbnlMaXN0ZW5lcnMgPSBbXS5jb25jYXQodG9Db25zdW1hYmxlQXJyYXkoYW55TGlzdGVuZXJzKSk7XG5cdFx0XHRcdFx0XHRcdFx0X2NvbnRleHQzLm5leHQgPSA3O1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiByZXNvbHZlZFByb21pc2U7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBfY29udGV4dDMuYWJydXB0KCdyZXR1cm4nLCBQcm9taXNlLmFsbChbXS5jb25jYXQodG9Db25zdW1hYmxlQXJyYXkoc3RhdGljTGlzdGVuZXJzLm1hcChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgX3JlZjIgPSBhc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShsaXN0ZW5lcikge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFsaXN0ZW5lcnMuaGFzKGxpc3RlbmVyKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0X2NvbnRleHQubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX2NvbnRleHQuYWJydXB0KCdyZXR1cm4nLCBsaXN0ZW5lcihldmVudERhdGEpKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgJ2VuZCc6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sIF9jYWxsZWUsIF90aGlzMik7XG5cdFx0XHRcdFx0XHRcdFx0XHR9KSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbiAoX3gzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0XHR9KCkpKSwgdG9Db25zdW1hYmxlQXJyYXkoc3RhdGljQW55TGlzdGVuZXJzLm1hcChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgX3JlZjMgPSBhc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIobGlzdGVuZXIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWFueUxpc3RlbmVycy5oYXMobGlzdGVuZXIpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRfY29udGV4dDIubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX2NvbnRleHQyLmFicnVwdCgncmV0dXJuJywgbGlzdGVuZXIoZXZlbnROYW1lLCBldmVudERhdGEpKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgJ2VuZCc6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LCBfY2FsbGVlMiwgX3RoaXMyKTtcblx0XHRcdFx0XHRcdFx0XHRcdH0pKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uIChfeDQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRcdH0oKSkpKSkpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRcdFx0Y2FzZSAnZW5kJzpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX2NvbnRleHQzLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sIF9jYWxsZWUzLCB0aGlzKTtcblx0XHRcdH0pKTtcblxuXHRcdFx0ZnVuY3Rpb24gZW1pdChfeCwgX3gyKSB7XG5cdFx0XHRcdHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBlbWl0O1xuXHRcdH0oKVxuXHR9LCB7XG5cdFx0a2V5OiAnZW1pdFNlcmlhbCcsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBfcmVmNCA9IGFzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNChldmVudE5hbWUsIGV2ZW50RGF0YSkge1xuXHRcdFx0XHR2YXIgbGlzdGVuZXJzLCBhbnlMaXN0ZW5lcnMsIHN0YXRpY0xpc3RlbmVycywgc3RhdGljQW55TGlzdGVuZXJzLCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uLCBfZGlkSXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvciwgX3N0ZXAsIGxpc3RlbmVyLCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiwgX2RpZEl0ZXJhdG9yRXJyb3IyLCBfaXRlcmF0b3JFcnJvcjIsIF9pdGVyYXRvcjIsIF9zdGVwMiwgX2xpc3RlbmVyO1xuXG5cdFx0XHRcdHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7XG5cdFx0XHRcdFx0d2hpbGUgKDEpIHtcblx0XHRcdFx0XHRcdHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0YXNzZXJ0RXZlbnROYW1lKGV2ZW50TmFtZSk7XG5cblx0XHRcdFx0XHRcdFx0XHRsaXN0ZW5lcnMgPSBnZXRMaXN0ZW5lcnModGhpcywgZXZlbnROYW1lKTtcblx0XHRcdFx0XHRcdFx0XHRhbnlMaXN0ZW5lcnMgPSBhbnlNYXAuZ2V0KHRoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdHN0YXRpY0xpc3RlbmVycyA9IFtdLmNvbmNhdCh0b0NvbnN1bWFibGVBcnJheShsaXN0ZW5lcnMpKTtcblx0XHRcdFx0XHRcdFx0XHRzdGF0aWNBbnlMaXN0ZW5lcnMgPSBbXS5jb25jYXQodG9Db25zdW1hYmxlQXJyYXkoYW55TGlzdGVuZXJzKSk7XG5cdFx0XHRcdFx0XHRcdFx0X2NvbnRleHQ0Lm5leHQgPSA3O1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiByZXNvbHZlZFByb21pc2U7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdFx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWF3YWl0LWluLWxvb3AgKi9cblx0XHRcdFx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRcdF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRcdF9jb250ZXh0NC5wcmV2ID0gMTA7XG5cdFx0XHRcdFx0XHRcdFx0X2l0ZXJhdG9yID0gc3RhdGljTGlzdGVuZXJzW1N5bWJvbC5pdGVyYXRvcl0oKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdFx0XHRcdGlmIChfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0X2NvbnRleHQ0Lm5leHQgPSAyMDtcblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdGxpc3RlbmVyID0gX3N0ZXAudmFsdWU7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoIWxpc3RlbmVycy5oYXMobGlzdGVuZXIpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRfY29udGV4dDQubmV4dCA9IDE3O1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0X2NvbnRleHQ0Lm5leHQgPSAxNztcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gbGlzdGVuZXIoZXZlbnREYXRhKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDE3OlxuXHRcdFx0XHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdF9jb250ZXh0NC5uZXh0ID0gMTI7XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAyMDpcblx0XHRcdFx0XHRcdFx0XHRfY29udGV4dDQubmV4dCA9IDI2O1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMjI6XG5cdFx0XHRcdFx0XHRcdFx0X2NvbnRleHQ0LnByZXYgPSAyMjtcblx0XHRcdFx0XHRcdFx0XHRfY29udGV4dDQudDAgPSBfY29udGV4dDRbJ2NhdGNoJ10oMTApO1xuXHRcdFx0XHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IF9jb250ZXh0NC50MDtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDI2OlxuXHRcdFx0XHRcdFx0XHRcdF9jb250ZXh0NC5wcmV2ID0gMjY7XG5cdFx0XHRcdFx0XHRcdFx0X2NvbnRleHQ0LnByZXYgPSAyNztcblxuXHRcdFx0XHRcdFx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRfaXRlcmF0b3IucmV0dXJuKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMjk6XG5cdFx0XHRcdFx0XHRcdFx0X2NvbnRleHQ0LnByZXYgPSAyOTtcblxuXHRcdFx0XHRcdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0XHRcdF9jb250ZXh0NC5uZXh0ID0gMzI7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDMyOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBfY29udGV4dDQuZmluaXNoKDI5KTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDMzOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBfY29udGV4dDQuZmluaXNoKDI2KTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDM0OlxuXHRcdFx0XHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdFx0X2NvbnRleHQ0LnByZXYgPSAzNztcblx0XHRcdFx0XHRcdFx0XHRfaXRlcmF0b3IyID0gc3RhdGljQW55TGlzdGVuZXJzW1N5bWJvbC5pdGVyYXRvcl0oKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDM5OlxuXHRcdFx0XHRcdFx0XHRcdGlmIChfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0X2NvbnRleHQ0Lm5leHQgPSA0Nztcblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdF9saXN0ZW5lciA9IF9zdGVwMi52YWx1ZTtcblxuXHRcdFx0XHRcdFx0XHRcdGlmICghYW55TGlzdGVuZXJzLmhhcyhfbGlzdGVuZXIpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRfY29udGV4dDQubmV4dCA9IDQ0O1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0X2NvbnRleHQ0Lm5leHQgPSA0NDtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX2xpc3RlbmVyKGV2ZW50TmFtZSwgZXZlbnREYXRhKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDQ0OlxuXHRcdFx0XHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRfY29udGV4dDQubmV4dCA9IDM5O1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNDc6XG5cdFx0XHRcdFx0XHRcdFx0X2NvbnRleHQ0Lm5leHQgPSA1Mztcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDQ5OlxuXHRcdFx0XHRcdFx0XHRcdF9jb250ZXh0NC5wcmV2ID0gNDk7XG5cdFx0XHRcdFx0XHRcdFx0X2NvbnRleHQ0LnQxID0gX2NvbnRleHQ0WydjYXRjaCddKDM3KTtcblx0XHRcdFx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdF9pdGVyYXRvckVycm9yMiA9IF9jb250ZXh0NC50MTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDUzOlxuXHRcdFx0XHRcdFx0XHRcdF9jb250ZXh0NC5wcmV2ID0gNTM7XG5cdFx0XHRcdFx0XHRcdFx0X2NvbnRleHQ0LnByZXYgPSA1NDtcblxuXHRcdFx0XHRcdFx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcblx0XHRcdFx0XHRcdFx0XHRcdF9pdGVyYXRvcjIucmV0dXJuKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNTY6XG5cdFx0XHRcdFx0XHRcdFx0X2NvbnRleHQ0LnByZXYgPSA1NjtcblxuXHRcdFx0XHRcdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRfY29udGV4dDQubmV4dCA9IDU5O1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0dGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNTk6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9jb250ZXh0NC5maW5pc2goNTYpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNjA6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9jb250ZXh0NC5maW5pc2goNTMpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNjE6XG5cdFx0XHRcdFx0XHRcdGNhc2UgJ2VuZCc6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCBfY2FsbGVlNCwgdGhpcywgW1sxMCwgMjIsIDI2LCAzNF0sIFsyNywsIDI5LCAzM10sIFszNywgNDksIDUzLCA2MV0sIFs1NCwsIDU2LCA2MF1dKTtcblx0XHRcdH0pKTtcblxuXHRcdFx0ZnVuY3Rpb24gZW1pdFNlcmlhbChfeDUsIF94Nikge1xuXHRcdFx0XHRyZXR1cm4gX3JlZjQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGVtaXRTZXJpYWw7XG5cdFx0fSgpXG5cdH0sIHtcblx0XHRrZXk6ICdvbkFueScsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIG9uQW55KGxpc3RlbmVyKSB7XG5cdFx0XHRhc3NlcnRMaXN0ZW5lcihsaXN0ZW5lcik7XG5cdFx0XHRhbnlNYXAuZ2V0KHRoaXMpLmFkZChsaXN0ZW5lcik7XG5cdFx0XHRyZXR1cm4gdGhpcy5vZmZBbnkuYmluZCh0aGlzLCBsaXN0ZW5lcik7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiAnb2ZmQW55Jyxcblx0XHR2YWx1ZTogZnVuY3Rpb24gb2ZmQW55KGxpc3RlbmVyKSB7XG5cdFx0XHRhc3NlcnRMaXN0ZW5lcihsaXN0ZW5lcik7XG5cdFx0XHRhbnlNYXAuZ2V0KHRoaXMpLmRlbGV0ZShsaXN0ZW5lcik7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiAnY2xlYXJMaXN0ZW5lcnMnLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjbGVhckxpc3RlbmVycyhldmVudE5hbWUpIHtcblx0XHRcdGlmICh0eXBlb2YgZXZlbnROYW1lID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRnZXRMaXN0ZW5lcnModGhpcywgZXZlbnROYW1lKS5jbGVhcigpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YW55TWFwLmdldCh0aGlzKS5jbGVhcigpO1xuXHRcdFx0XHR2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuXHRcdFx0XHR2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7XG5cdFx0XHRcdHZhciBfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRmb3IgKHZhciBfaXRlcmF0b3IzID0gZXZlbnRzTWFwLmdldCh0aGlzKS52YWx1ZXMoKVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMzsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IChfc3RlcDMgPSBfaXRlcmF0b3IzLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZSkge1xuXHRcdFx0XHRcdFx0dmFyIGxpc3RlbmVycyA9IF9zdGVwMy52YWx1ZTtcblxuXHRcdFx0XHRcdFx0bGlzdGVuZXJzLmNsZWFyKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yMyA9IGVycjtcblx0XHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybikge1xuXHRcdFx0XHRcdFx0XHRfaXRlcmF0b3IzLnJldHVybigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdFx0XHRpZiAoX2RpZEl0ZXJhdG9yRXJyb3IzKSB7XG5cdFx0XHRcdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yMztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6ICdsaXN0ZW5lckNvdW50Jyxcblx0XHR2YWx1ZTogZnVuY3Rpb24gbGlzdGVuZXJDb3VudChldmVudE5hbWUpIHtcblx0XHRcdGlmICh0eXBlb2YgZXZlbnROYW1lID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRyZXR1cm4gYW55TWFwLmdldCh0aGlzKS5zaXplICsgZ2V0TGlzdGVuZXJzKHRoaXMsIGV2ZW50TmFtZSkuc2l6ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHR5cGVvZiBldmVudE5hbWUgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdGFzc2VydEV2ZW50TmFtZShldmVudE5hbWUpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgY291bnQgPSBhbnlNYXAuZ2V0KHRoaXMpLnNpemU7XG5cblx0XHRcdHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWU7XG5cdFx0XHR2YXIgX2RpZEl0ZXJhdG9yRXJyb3I0ID0gZmFsc2U7XG5cdFx0XHR2YXIgX2l0ZXJhdG9yRXJyb3I0ID0gdW5kZWZpbmVkO1xuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRmb3IgKHZhciBfaXRlcmF0b3I0ID0gZXZlbnRzTWFwLmdldCh0aGlzKS52YWx1ZXMoKVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IChfc3RlcDQgPSBfaXRlcmF0b3I0Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZSkge1xuXHRcdFx0XHRcdHZhciB2YWx1ZSA9IF9zdGVwNC52YWx1ZTtcblxuXHRcdFx0XHRcdGNvdW50ICs9IHZhbHVlLnNpemU7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvcjQgPSB0cnVlO1xuXHRcdFx0XHRfaXRlcmF0b3JFcnJvcjQgPSBlcnI7XG5cdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgJiYgX2l0ZXJhdG9yNC5yZXR1cm4pIHtcblx0XHRcdFx0XHRcdF9pdGVyYXRvcjQucmV0dXJuKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRcdGlmIChfZGlkSXRlcmF0b3JFcnJvcjQpIHtcblx0XHRcdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yNDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGNvdW50O1xuXHRcdH1cblx0fV0pO1xuXHRyZXR1cm4gRW1pdHRlcnk7XG59KCk7XG5cbi8vIFN1YmNsYXNzIHVzZWQgdG8gZW5jb3VyYWdlIFRTIHVzZXJzIHRvIHR5cGUgdGhlaXIgZXZlbnRzLlxuXG5cbkVtaXR0ZXJ5LlR5cGVkID0gZnVuY3Rpb24gKF9FbWl0dGVyeSkge1xuXHRpbmhlcml0cyhfY2xhc3MsIF9FbWl0dGVyeSk7XG5cblx0ZnVuY3Rpb24gX2NsYXNzKCkge1xuXHRcdGNsYXNzQ2FsbENoZWNrKHRoaXMsIF9jbGFzcyk7XG5cdFx0cmV0dXJuIHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9jbGFzcy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKF9jbGFzcykpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHR9XG5cblx0cmV0dXJuIF9jbGFzcztcbn0oRW1pdHRlcnkpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEVtaXR0ZXJ5LlR5cGVkLCAnVHlwZWQnLCB7XG5cdGVudW1lcmFibGU6IGZhbHNlLFxuXHR2YWx1ZTogdW5kZWZpbmVkXG59KTtcblxudmFyIGVtaXR0ZXJ5ID0gRW1pdHRlcnk7XG5cbnZhciBzdHJpY3RVcmlFbmNvZGUgPSBmdW5jdGlvbiBzdHJpY3RVcmlFbmNvZGUoc3RyKSB7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyKS5yZXBsYWNlKC9bIScoKSpdL2csIGZ1bmN0aW9uICh4KSB7XG4gICAgcmV0dXJuICclJyArIHguY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcbiAgfSk7XG59O1xuXG5mdW5jdGlvbiBlbmNvZGVyRm9yQXJyYXlGb3JtYXQob3B0aW9ucykge1xuXHRzd2l0Y2ggKG9wdGlvbnMuYXJyYXlGb3JtYXQpIHtcblx0XHRjYXNlICdpbmRleCc6XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKGtleSwgdmFsdWUsIGluZGV4KSB7XG5cdFx0XHRcdHJldHVybiB2YWx1ZSA9PT0gbnVsbCA/IFtlbmNvZGUoa2V5LCBvcHRpb25zKSwgJ1snLCBpbmRleCwgJ10nXS5qb2luKCcnKSA6IFtlbmNvZGUoa2V5LCBvcHRpb25zKSwgJ1snLCBlbmNvZGUoaW5kZXgsIG9wdGlvbnMpLCAnXT0nLCBlbmNvZGUodmFsdWUsIG9wdGlvbnMpXS5qb2luKCcnKTtcblx0XHRcdH07XG5cdFx0Y2FzZSAnYnJhY2tldCc6XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlID09PSBudWxsID8gZW5jb2RlKGtleSwgb3B0aW9ucykgOiBbZW5jb2RlKGtleSwgb3B0aW9ucyksICdbXT0nLCBlbmNvZGUodmFsdWUsIG9wdGlvbnMpXS5qb2luKCcnKTtcblx0XHRcdH07XG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT09IG51bGwgPyBlbmNvZGUoa2V5LCBvcHRpb25zKSA6IFtlbmNvZGUoa2V5LCBvcHRpb25zKSwgJz0nLCBlbmNvZGUodmFsdWUsIG9wdGlvbnMpXS5qb2luKCcnKTtcblx0XHRcdH07XG5cdH1cbn1cblxuZnVuY3Rpb24gZW5jb2RlKHZhbHVlLCBvcHRpb25zKSB7XG5cdGlmIChvcHRpb25zLmVuY29kZSkge1xuXHRcdHJldHVybiBvcHRpb25zLnN0cmljdCA/IHN0cmljdFVyaUVuY29kZSh2YWx1ZSkgOiBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuXHR9XG5cblx0cmV0dXJuIHZhbHVlO1xufVxuXG52YXIgc3RyaW5naWZ5ID0gZnVuY3Rpb24gc3RyaW5naWZ5KG9iaiwgb3B0aW9ucykge1xuXHR2YXIgZGVmYXVsdHMkJDEgPSB7XG5cdFx0ZW5jb2RlOiB0cnVlLFxuXHRcdHN0cmljdDogdHJ1ZSxcblx0XHRhcnJheUZvcm1hdDogJ25vbmUnXG5cdH07XG5cblx0b3B0aW9ucyA9IF9leHRlbmRzKGRlZmF1bHRzJCQxLCBvcHRpb25zKTtcblxuXHRpZiAob3B0aW9ucy5zb3J0ID09PSBmYWxzZSkge1xuXHRcdG9wdGlvbnMuc29ydCA9IGZ1bmN0aW9uICgpIHt9O1xuXHR9XG5cblx0dmFyIGZvcm1hdHRlciA9IGVuY29kZXJGb3JBcnJheUZvcm1hdChvcHRpb25zKTtcblxuXHRyZXR1cm4gb2JqID8gT2JqZWN0LmtleXMob2JqKS5zb3J0KG9wdGlvbnMuc29ydCkubWFwKGZ1bmN0aW9uIChrZXkpIHtcblx0XHR2YXIgdmFsdWUgPSBvYmpba2V5XTtcblxuXHRcdGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gJyc7XG5cdFx0fVxuXG5cdFx0aWYgKHZhbHVlID09PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gZW5jb2RlKGtleSwgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0aWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdFx0XHR2YXIgcmVzdWx0ID0gW107XG5cblx0XHRcdHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG5cdFx0XHR2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG5cdFx0XHR2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRmb3IgKHZhciBfaXRlcmF0b3IyID0gdmFsdWUuc2xpY2UoKVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuXHRcdFx0XHRcdHZhciB2YWx1ZTIgPSBfc3RlcDIudmFsdWU7XG5cblx0XHRcdFx0XHRpZiAodmFsdWUyID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKGZvcm1hdHRlcihrZXksIHZhbHVlMiwgcmVzdWx0Lmxlbmd0aCkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcblx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuXHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG5cdFx0XHRcdFx0XHRfaXRlcmF0b3IyLnJldHVybigpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0XHRpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiByZXN1bHQuam9pbignJicpO1xuXHRcdH1cblxuXHRcdHJldHVybiBlbmNvZGUoa2V5LCBvcHRpb25zKSArICc9JyArIGVuY29kZSh2YWx1ZSwgb3B0aW9ucyk7XG5cdH0pLmZpbHRlcihmdW5jdGlvbiAoeCkge1xuXHRcdHJldHVybiB4Lmxlbmd0aCA+IDA7XG5cdH0pLmpvaW4oJyYnKSA6ICcnO1xufTtcblxudmFyIGNvbW1vbmpzR2xvYmFsID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB7fTtcblxuZnVuY3Rpb24gY3JlYXRlQ29tbW9uanNNb2R1bGUoZm4sIG1vZHVsZSkge1xuXHRyZXR1cm4gbW9kdWxlID0geyBleHBvcnRzOiB7fSB9LCBmbihtb2R1bGUsIG1vZHVsZS5leHBvcnRzKSwgbW9kdWxlLmV4cG9ydHM7XG59XG5cbnZhciB3c3BfYnJvd3NlciA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHtcbiAgIWZ1bmN0aW9uICh0LCBlKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBlKCk7XG4gIH0oY29tbW9uanNHbG9iYWwsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdCA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gX3R5cGVvZihTeW1ib2wuaXRlcmF0b3IpID8gZnVuY3Rpb24gKHQpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YodCk7XG4gICAgfSA6IGZ1bmN0aW9uICh0KSB7XG4gICAgICByZXR1cm4gdCAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiB0LmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgdCAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgdCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YodCk7XG4gICAgfSxcbiAgICAgICAgZSA9IHsgT1BFTjogMCwgSk9JTjogMSwgTEVBVkU6IDIsIEpPSU5fQUNLOiAzLCBKT0lOX0VSUk9SOiA0LCBMRUFWRV9BQ0s6IDUsIExFQVZFX0VSUk9SOiA2LCBFVkVOVDogNywgUElORzogOCwgUE9ORzogOSB9O2Z1bmN0aW9uIG8odCwgZSwgbykge1xuICAgICAgcmV0dXJuIG8uZm9yRWFjaChmdW5jdGlvbiAodCkge1xuICAgICAgICAhZnVuY3Rpb24gKHQsIGUpIHtcbiAgICAgICAgICBpZiAoIXQgfHwgXCJzdHJpbmdcIiAhPSB0eXBlb2YgdCkgdGhyb3cgbmV3IEVycm9yKGUpO1xuICAgICAgICB9KGVbdF0sIFwiZXhwZWN0ZWQgXCIgKyB0ICsgXCIgdG8gYmUgYSB2YWxpZCBzdHJpbmdcIik7XG4gICAgICB9KSwgeyB0OiB0LCBkOiBlIH07XG4gICAgfXZhciBuID0ge307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24gKG8pIHtcbiAgICAgIHZhciBpID0gby50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL15cXHd8XyhcXHcpL2csIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgICAgIHJldHVybiBlID8gZS50b1VwcGVyQ2FzZSgpIDogdC50b1VwcGVyQ2FzZSgpO1xuICAgICAgfSk7bltcImlzXCIgKyBpICsgXCJQYWNrZXRcIl0gPSBmdW5jdGlvbiAobikge1xuICAgICAgICByZXR1cm4gISghbiB8fCBcIm9iamVjdFwiICE9PSAodm9pZCAwID09PSBuID8gXCJ1bmRlZmluZWRcIiA6IHQobikpIHx8IG4udCAhPT0gZVtvXSk7XG4gICAgICB9O1xuICAgIH0pLCBuLmhhc1RvcGljID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgIHJldHVybiAhISh0ICYmIHQuZCAmJiB0LmQudG9waWMpO1xuICAgIH0sIG4uaXNWYWxpZEpvaW5QYWNrZXQgPSBuLmhhc1RvcGljLCBuLmlzVmFsaWRMZWF2ZVBhY2tldCA9IG4uaGFzVG9waWMsIG4uaXNWYWxpZEV2ZW50UGFja2V0ID0gbi5oYXNUb3BpYywgbi5qb2luUGFja2V0ID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgIHJldHVybiBvKGUuSk9JTiwgeyB0b3BpYzogdCB9LCBbXCJ0b3BpY1wiXSk7XG4gICAgfSwgbi5sZWF2ZVBhY2tldCA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICByZXR1cm4gbyhlLkxFQVZFLCB7IHRvcGljOiB0IH0sIFtcInRvcGljXCJdKTtcbiAgICB9LCBuLmpvaW5BY2tQYWNrZXQgPSBmdW5jdGlvbiAodCkge1xuICAgICAgcmV0dXJuIG8oZS5KT0lOX0FDSywgeyB0b3BpYzogdCB9LCBbXCJ0b3BpY1wiXSk7XG4gICAgfSwgbi5qb2luRXJyb3JQYWNrZXQgPSBmdW5jdGlvbiAodCwgbikge1xuICAgICAgcmV0dXJuIG8oZS5KT0lOX0VSUk9SLCB7IHRvcGljOiB0LCBtZXNzYWdlOiBuIH0sIFtcInRvcGljXCIsIFwibWVzc2FnZVwiXSk7XG4gICAgfSwgbi5sZWF2ZUFja1BhY2tldCA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICByZXR1cm4gbyhlLkxFQVZFX0FDSywgeyB0b3BpYzogdCB9LCBbXCJ0b3BpY1wiXSk7XG4gICAgfSwgbi5sZWF2ZUVycm9yUGFja2V0ID0gZnVuY3Rpb24gKHQsIG4pIHtcbiAgICAgIHJldHVybiBvKGUuTEVBVkVfRVJST1IsIHsgdG9waWM6IHQsIG1lc3NhZ2U6IG4gfSwgW1widG9waWNcIiwgXCJtZXNzYWdlXCJdKTtcbiAgICB9LCBuLmV2ZW50UGFja2V0ID0gZnVuY3Rpb24gKHQsIG4sIGkpIHtcbiAgICAgIHJldHVybiBvKGUuRVZFTlQsIHsgdG9waWM6IHQsIGV2ZW50OiBuLCBkYXRhOiBpID0gaSB8fCBcIlwiIH0sIFtcInRvcGljXCIsIFwiZXZlbnRcIl0pO1xuICAgIH0sIG4ucGluZ1BhY2tldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7IHQ6IGUuUElORyB9O1xuICAgIH0sIG4ucG9uZ1BhY2tldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7IHQ6IGUuUE9ORyB9O1xuICAgIH0sIF9leHRlbmRzKHsgY29kZXM6IGUgfSwgbik7XG4gIH0pO1xufSk7XG5cbi8qKlxuICogSGVscGVycy5cbiAqL1xuXG52YXIgcyA9IDEwMDA7XG52YXIgbSA9IHMgKiA2MDtcbnZhciBoID0gbSAqIDYwO1xudmFyIGQgPSBoICogMjQ7XG52YXIgeSA9IGQgKiAzNjUuMjU7XG5cbi8qKlxuICogUGFyc2Ugb3IgZm9ybWF0IHRoZSBnaXZlbiBgdmFsYC5cbiAqXG4gKiBPcHRpb25zOlxuICpcbiAqICAtIGBsb25nYCB2ZXJib3NlIGZvcm1hdHRpbmcgW2ZhbHNlXVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gdmFsXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAdGhyb3dzIHtFcnJvcn0gdGhyb3cgYW4gZXJyb3IgaWYgdmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSBudW1iZXJcbiAqIEByZXR1cm4ge1N0cmluZ3xOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnZhciBtcyA9IGZ1bmN0aW9uIG1zKHZhbCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih2YWwpO1xuICBpZiAodHlwZSA9PT0gJ3N0cmluZycgJiYgdmFsLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gcGFyc2UkMSh2YWwpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmIGlzTmFOKHZhbCkgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMubG9uZyA/IGZtdExvbmcodmFsKSA6IGZtdFNob3J0KHZhbCk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCd2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPScgKyBKU09OLnN0cmluZ2lmeSh2YWwpKTtcbn07XG5cbi8qKlxuICogUGFyc2UgdGhlIGdpdmVuIGBzdHJgIGFuZCByZXR1cm4gbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlJDEoc3RyKSB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAoc3RyLmxlbmd0aCA+IDEwMCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbWF0Y2ggPSAvXigoPzpcXGQrKT9cXC4/XFxkKykgKihtaWxsaXNlY29uZHM/fG1zZWNzP3xtc3xzZWNvbmRzP3xzZWNzP3xzfG1pbnV0ZXM/fG1pbnM/fG18aG91cnM/fGhycz98aHxkYXlzP3xkfHllYXJzP3x5cnM/fHkpPyQvaS5leGVjKHN0cik7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG4gPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcbiAgdmFyIHR5cGUgPSAobWF0Y2hbMl0gfHwgJ21zJykudG9Mb3dlckNhc2UoKTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAneWVhcnMnOlxuICAgIGNhc2UgJ3llYXInOlxuICAgIGNhc2UgJ3lycyc6XG4gICAgY2FzZSAneXInOlxuICAgIGNhc2UgJ3knOlxuICAgICAgcmV0dXJuIG4gKiB5O1xuICAgIGNhc2UgJ2RheXMnOlxuICAgIGNhc2UgJ2RheSc6XG4gICAgY2FzZSAnZCc6XG4gICAgICByZXR1cm4gbiAqIGQ7XG4gICAgY2FzZSAnaG91cnMnOlxuICAgIGNhc2UgJ2hvdXInOlxuICAgIGNhc2UgJ2hycyc6XG4gICAgY2FzZSAnaHInOlxuICAgIGNhc2UgJ2gnOlxuICAgICAgcmV0dXJuIG4gKiBoO1xuICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgY2FzZSAnbWlucyc6XG4gICAgY2FzZSAnbWluJzpcbiAgICBjYXNlICdtJzpcbiAgICAgIHJldHVybiBuICogbTtcbiAgICBjYXNlICdzZWNvbmRzJzpcbiAgICBjYXNlICdzZWNvbmQnOlxuICAgIGNhc2UgJ3NlY3MnOlxuICAgIGNhc2UgJ3NlYyc6XG4gICAgY2FzZSAncyc6XG4gICAgICByZXR1cm4gbiAqIHM7XG4gICAgY2FzZSAnbWlsbGlzZWNvbmRzJzpcbiAgICBjYXNlICdtaWxsaXNlY29uZCc6XG4gICAgY2FzZSAnbXNlY3MnOlxuICAgIGNhc2UgJ21zZWMnOlxuICAgIGNhc2UgJ21zJzpcbiAgICAgIHJldHVybiBuO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKlxuICogU2hvcnQgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10U2hvcnQobXMpIHtcbiAgaWYgKG1zID49IGQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGQpICsgJ2QnO1xuICB9XG4gIGlmIChtcyA+PSBoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBoKSArICdoJztcbiAgfVxuICBpZiAobXMgPj0gbSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbSkgKyAnbSc7XG4gIH1cbiAgaWYgKG1zID49IHMpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIHMpICsgJ3MnO1xuICB9XG4gIHJldHVybiBtcyArICdtcyc7XG59XG5cbi8qKlxuICogTG9uZyBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRMb25nKG1zKSB7XG4gIHJldHVybiBwbHVyYWwobXMsIGQsICdkYXknKSB8fCBwbHVyYWwobXMsIGgsICdob3VyJykgfHwgcGx1cmFsKG1zLCBtLCAnbWludXRlJykgfHwgcGx1cmFsKG1zLCBzLCAnc2Vjb25kJykgfHwgbXMgKyAnIG1zJztcbn1cblxuLyoqXG4gKiBQbHVyYWxpemF0aW9uIGhlbHBlci5cbiAqL1xuXG5mdW5jdGlvbiBwbHVyYWwobXMsIG4sIG5hbWUpIHtcbiAgaWYgKG1zIDwgbikge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAobXMgPCBuICogMS41KSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IobXMgLyBuKSArICcgJyArIG5hbWU7XG4gIH1cbiAgcmV0dXJuIE1hdGguY2VpbChtcyAvIG4pICsgJyAnICsgbmFtZSArICdzJztcbn1cblxudmFyIGRlYnVnID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuICAvKipcbiAgICogVGhpcyBpcyB0aGUgY29tbW9uIGxvZ2ljIGZvciBib3RoIHRoZSBOb2RlLmpzIGFuZCB3ZWIgYnJvd3NlclxuICAgKiBpbXBsZW1lbnRhdGlvbnMgb2YgYGRlYnVnKClgLlxuICAgKlxuICAgKiBFeHBvc2UgYGRlYnVnKClgIGFzIHRoZSBtb2R1bGUuXG4gICAqL1xuXG4gIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZURlYnVnLmRlYnVnID0gY3JlYXRlRGVidWdbJ2RlZmF1bHQnXSA9IGNyZWF0ZURlYnVnO1xuICBleHBvcnRzLmNvZXJjZSA9IGNvZXJjZTtcbiAgZXhwb3J0cy5kaXNhYmxlID0gZGlzYWJsZTtcbiAgZXhwb3J0cy5lbmFibGUgPSBlbmFibGU7XG4gIGV4cG9ydHMuZW5hYmxlZCA9IGVuYWJsZWQ7XG4gIGV4cG9ydHMuaHVtYW5pemUgPSBtcztcblxuICAvKipcbiAgICogVGhlIGN1cnJlbnRseSBhY3RpdmUgZGVidWcgbW9kZSBuYW1lcywgYW5kIG5hbWVzIHRvIHNraXAuXG4gICAqL1xuXG4gIGV4cG9ydHMubmFtZXMgPSBbXTtcbiAgZXhwb3J0cy5za2lwcyA9IFtdO1xuXG4gIC8qKlxuICAgKiBNYXAgb2Ygc3BlY2lhbCBcIiVuXCIgaGFuZGxpbmcgZnVuY3Rpb25zLCBmb3IgdGhlIGRlYnVnIFwiZm9ybWF0XCIgYXJndW1lbnQuXG4gICAqXG4gICAqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyIG9yIHVwcGVyLWNhc2UgbGV0dGVyLCBpLmUuIFwiblwiIGFuZCBcIk5cIi5cbiAgICovXG5cbiAgZXhwb3J0cy5mb3JtYXR0ZXJzID0ge307XG5cbiAgLyoqXG4gICAqIFByZXZpb3VzIGxvZyB0aW1lc3RhbXAuXG4gICAqL1xuXG4gIHZhciBwcmV2VGltZTtcblxuICAvKipcbiAgICogU2VsZWN0IGEgY29sb3IuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VcbiAgICogQHJldHVybiB7TnVtYmVyfVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgZnVuY3Rpb24gc2VsZWN0Q29sb3IobmFtZXNwYWNlKSB7XG4gICAgdmFyIGhhc2ggPSAwLFxuICAgICAgICBpO1xuXG4gICAgZm9yIChpIGluIG5hbWVzcGFjZSkge1xuICAgICAgaGFzaCA9IChoYXNoIDw8IDUpIC0gaGFzaCArIG5hbWVzcGFjZS5jaGFyQ29kZUF0KGkpO1xuICAgICAgaGFzaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcbiAgICB9XG5cbiAgICByZXR1cm4gZXhwb3J0cy5jb2xvcnNbTWF0aC5hYnMoaGFzaCkgJSBleHBvcnRzLmNvbG9ycy5sZW5ndGhdO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIGRlYnVnZ2VyIHdpdGggdGhlIGdpdmVuIGBuYW1lc3BhY2VgLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG4gICAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBmdW5jdGlvbiBjcmVhdGVEZWJ1ZyhuYW1lc3BhY2UpIHtcblxuICAgIGZ1bmN0aW9uIGRlYnVnKCkge1xuICAgICAgLy8gZGlzYWJsZWQ/XG4gICAgICBpZiAoIWRlYnVnLmVuYWJsZWQpIHJldHVybjtcblxuICAgICAgdmFyIHNlbGYgPSBkZWJ1ZztcblxuICAgICAgLy8gc2V0IGBkaWZmYCB0aW1lc3RhbXBcbiAgICAgIHZhciBjdXJyID0gK25ldyBEYXRlKCk7XG4gICAgICB2YXIgbXMkJDEgPSBjdXJyIC0gKHByZXZUaW1lIHx8IGN1cnIpO1xuICAgICAgc2VsZi5kaWZmID0gbXMkJDE7XG4gICAgICBzZWxmLnByZXYgPSBwcmV2VGltZTtcbiAgICAgIHNlbGYuY3VyciA9IGN1cnI7XG4gICAgICBwcmV2VGltZSA9IGN1cnI7XG5cbiAgICAgIC8vIHR1cm4gdGhlIGBhcmd1bWVudHNgIGludG8gYSBwcm9wZXIgQXJyYXlcbiAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgICB9XG5cbiAgICAgIGFyZ3NbMF0gPSBleHBvcnRzLmNvZXJjZShhcmdzWzBdKTtcblxuICAgICAgaWYgKCdzdHJpbmcnICE9PSB0eXBlb2YgYXJnc1swXSkge1xuICAgICAgICAvLyBhbnl0aGluZyBlbHNlIGxldCdzIGluc3BlY3Qgd2l0aCAlT1xuICAgICAgICBhcmdzLnVuc2hpZnQoJyVPJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIGFwcGx5IGFueSBgZm9ybWF0dGVyc2AgdHJhbnNmb3JtYXRpb25zXG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgYXJnc1swXSA9IGFyZ3NbMF0ucmVwbGFjZSgvJShbYS16QS1aJV0pL2csIGZ1bmN0aW9uIChtYXRjaCwgZm9ybWF0KSB7XG4gICAgICAgIC8vIGlmIHdlIGVuY291bnRlciBhbiBlc2NhcGVkICUgdGhlbiBkb24ndCBpbmNyZWFzZSB0aGUgYXJyYXkgaW5kZXhcbiAgICAgICAgaWYgKG1hdGNoID09PSAnJSUnKSByZXR1cm4gbWF0Y2g7XG4gICAgICAgIGluZGV4Kys7XG4gICAgICAgIHZhciBmb3JtYXR0ZXIgPSBleHBvcnRzLmZvcm1hdHRlcnNbZm9ybWF0XTtcbiAgICAgICAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBmb3JtYXR0ZXIpIHtcbiAgICAgICAgICB2YXIgdmFsID0gYXJnc1tpbmRleF07XG4gICAgICAgICAgbWF0Y2ggPSBmb3JtYXR0ZXIuY2FsbChzZWxmLCB2YWwpO1xuXG4gICAgICAgICAgLy8gbm93IHdlIG5lZWQgdG8gcmVtb3ZlIGBhcmdzW2luZGV4XWAgc2luY2UgaXQncyBpbmxpbmVkIGluIHRoZSBgZm9ybWF0YFxuICAgICAgICAgIGFyZ3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICBpbmRleC0tO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBhcHBseSBlbnYtc3BlY2lmaWMgZm9ybWF0dGluZyAoY29sb3JzLCBldGMuKVxuICAgICAgZXhwb3J0cy5mb3JtYXRBcmdzLmNhbGwoc2VsZiwgYXJncyk7XG5cbiAgICAgIHZhciBsb2dGbiA9IGRlYnVnLmxvZyB8fCBleHBvcnRzLmxvZyB8fCBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpO1xuICAgICAgbG9nRm4uYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgfVxuXG4gICAgZGVidWcubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuICAgIGRlYnVnLmVuYWJsZWQgPSBleHBvcnRzLmVuYWJsZWQobmFtZXNwYWNlKTtcbiAgICBkZWJ1Zy51c2VDb2xvcnMgPSBleHBvcnRzLnVzZUNvbG9ycygpO1xuICAgIGRlYnVnLmNvbG9yID0gc2VsZWN0Q29sb3IobmFtZXNwYWNlKTtcblxuICAgIC8vIGVudi1zcGVjaWZpYyBpbml0aWFsaXphdGlvbiBsb2dpYyBmb3IgZGVidWcgaW5zdGFuY2VzXG4gICAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBleHBvcnRzLmluaXQpIHtcbiAgICAgIGV4cG9ydHMuaW5pdChkZWJ1Zyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlYnVnO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgYSBkZWJ1ZyBtb2RlIGJ5IG5hbWVzcGFjZXMuIFRoaXMgY2FuIGluY2x1ZGUgbW9kZXNcbiAgICogc2VwYXJhdGVkIGJ5IGEgY29sb24gYW5kIHdpbGRjYXJkcy5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcbiAgICBleHBvcnRzLnNhdmUobmFtZXNwYWNlcyk7XG5cbiAgICBleHBvcnRzLm5hbWVzID0gW107XG4gICAgZXhwb3J0cy5za2lwcyA9IFtdO1xuXG4gICAgdmFyIHNwbGl0ID0gKHR5cGVvZiBuYW1lc3BhY2VzID09PSAnc3RyaW5nJyA/IG5hbWVzcGFjZXMgOiAnJykuc3BsaXQoL1tcXHMsXSsvKTtcbiAgICB2YXIgbGVuID0gc3BsaXQubGVuZ3RoO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKCFzcGxpdFtpXSkgY29udGludWU7IC8vIGlnbm9yZSBlbXB0eSBzdHJpbmdzXG4gICAgICBuYW1lc3BhY2VzID0gc3BsaXRbaV0ucmVwbGFjZSgvXFwqL2csICcuKj8nKTtcbiAgICAgIGlmIChuYW1lc3BhY2VzWzBdID09PSAnLScpIHtcbiAgICAgICAgZXhwb3J0cy5za2lwcy5wdXNoKG5ldyBSZWdFeHAoJ14nICsgbmFtZXNwYWNlcy5zdWJzdHIoMSkgKyAnJCcpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV4cG9ydHMubmFtZXMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMgKyAnJCcpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZSBkZWJ1ZyBvdXRwdXQuXG4gICAqXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gICAgZXhwb3J0cy5lbmFibGUoJycpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gbW9kZSBuYW1lIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgZnVuY3Rpb24gZW5hYmxlZChuYW1lKSB7XG4gICAgdmFyIGksIGxlbjtcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBleHBvcnRzLnNraXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoZXhwb3J0cy5za2lwc1tpXS50ZXN0KG5hbWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChpID0gMCwgbGVuID0gZXhwb3J0cy5uYW1lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKGV4cG9ydHMubmFtZXNbaV0udGVzdChuYW1lKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIENvZXJjZSBgdmFsYC5cbiAgICpcbiAgICogQHBhcmFtIHtNaXhlZH0gdmFsXG4gICAqIEByZXR1cm4ge01peGVkfVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgZnVuY3Rpb24gY29lcmNlKHZhbCkge1xuICAgIGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIHZhbC5zdGFjayB8fCB2YWwubWVzc2FnZTtcbiAgICByZXR1cm4gdmFsO1xuICB9XG59KTtcbnZhciBkZWJ1Z18xID0gZGVidWcuY29lcmNlO1xudmFyIGRlYnVnXzIgPSBkZWJ1Zy5kaXNhYmxlO1xudmFyIGRlYnVnXzMgPSBkZWJ1Zy5lbmFibGU7XG52YXIgZGVidWdfNCA9IGRlYnVnLmVuYWJsZWQ7XG52YXIgZGVidWdfNSA9IGRlYnVnLmh1bWFuaXplO1xudmFyIGRlYnVnXzYgPSBkZWJ1Zy5uYW1lcztcbnZhciBkZWJ1Z183ID0gZGVidWcuc2tpcHM7XG52YXIgZGVidWdfOCA9IGRlYnVnLmZvcm1hdHRlcnM7XG5cbnZhciBicm93c2VyID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuICAvKipcbiAgICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICAgKlxuICAgKiBFeHBvc2UgYGRlYnVnKClgIGFzIHRoZSBtb2R1bGUuXG4gICAqL1xuXG4gIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGRlYnVnO1xuICBleHBvcnRzLmxvZyA9IGxvZztcbiAgZXhwb3J0cy5mb3JtYXRBcmdzID0gZm9ybWF0QXJncztcbiAgZXhwb3J0cy5zYXZlID0gc2F2ZTtcbiAgZXhwb3J0cy5sb2FkID0gbG9hZDtcbiAgZXhwb3J0cy51c2VDb2xvcnMgPSB1c2VDb2xvcnM7XG4gIGV4cG9ydHMuc3RvcmFnZSA9ICd1bmRlZmluZWQnICE9IHR5cGVvZiBjaHJvbWUgJiYgJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIGNocm9tZS5zdG9yYWdlID8gY2hyb21lLnN0b3JhZ2UubG9jYWwgOiBsb2NhbHN0b3JhZ2UoKTtcblxuICAvKipcbiAgICogQ29sb3JzLlxuICAgKi9cblxuICBleHBvcnRzLmNvbG9ycyA9IFsnbGlnaHRzZWFncmVlbicsICdmb3Jlc3RncmVlbicsICdnb2xkZW5yb2QnLCAnZG9kZ2VyYmx1ZScsICdkYXJrb3JjaGlkJywgJ2NyaW1zb24nXTtcblxuICAvKipcbiAgICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAgICogYW5kIHRoZSBGaXJlYnVnIGV4dGVuc2lvbiAoYW55IEZpcmVmb3ggdmVyc2lvbikgYXJlIGtub3duXG4gICAqIHRvIHN1cHBvcnQgXCIlY1wiIENTUyBjdXN0b21pemF0aW9ucy5cbiAgICpcbiAgICogVE9ETzogYWRkIGEgYGxvY2FsU3RvcmFnZWAgdmFyaWFibGUgdG8gZXhwbGljaXRseSBlbmFibGUvZGlzYWJsZSBjb2xvcnNcbiAgICovXG5cbiAgZnVuY3Rpb24gdXNlQ29sb3JzKCkge1xuICAgIC8vIE5COiBJbiBhbiBFbGVjdHJvbiBwcmVsb2FkIHNjcmlwdCwgZG9jdW1lbnQgd2lsbCBiZSBkZWZpbmVkIGJ1dCBub3QgZnVsbHlcbiAgICAvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuICAgIC8vIGV4cGxpY2l0bHlcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnByb2Nlc3MgJiYgd2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gaXMgd2Via2l0PyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNjQ1OTYwNi8zNzY3NzNcbiAgICAvLyBkb2N1bWVudCBpcyB1bmRlZmluZWQgaW4gcmVhY3QtbmF0aXZlOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QtbmF0aXZlL3B1bGwvMTYzMlxuICAgIHJldHVybiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLldlYmtpdEFwcGVhcmFuY2UgfHxcbiAgICAvLyBpcyBmaXJlYnVnPyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zOTgxMjAvMzc2NzczXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgd2luZG93LmNvbnNvbGUuZXhjZXB0aW9uICYmIHdpbmRvdy5jb25zb2xlLnRhYmxlKSB8fFxuICAgIC8vIGlzIGZpcmVmb3ggPj0gdjMxP1xuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykgJiYgcGFyc2VJbnQoUmVnRXhwLiQxLCAxMCkgPj0gMzEgfHxcbiAgICAvLyBkb3VibGUgY2hlY2sgd2Via2l0IGluIHVzZXJBZ2VudCBqdXN0IGluIGNhc2Ugd2UgYXJlIGluIGEgd29ya2VyXG4gICAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLyk7XG4gIH1cblxuICAvKipcbiAgICogTWFwICVqIHRvIGBKU09OLnN0cmluZ2lmeSgpYCwgc2luY2Ugbm8gV2ViIEluc3BlY3RvcnMgZG8gdGhhdCBieSBkZWZhdWx0LlxuICAgKi9cblxuICBleHBvcnRzLmZvcm1hdHRlcnMuaiA9IGZ1bmN0aW9uICh2KSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiAnW1VuZXhwZWN0ZWRKU09OUGFyc2VFcnJvcl06ICcgKyBlcnIubWVzc2FnZTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC5cbiAgICpcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgZnVuY3Rpb24gZm9ybWF0QXJncyhhcmdzKSB7XG4gICAgdmFyIHVzZUNvbG9ycyA9IHRoaXMudXNlQ29sb3JzO1xuXG4gICAgYXJnc1swXSA9ICh1c2VDb2xvcnMgPyAnJWMnIDogJycpICsgdGhpcy5uYW1lc3BhY2UgKyAodXNlQ29sb3JzID8gJyAlYycgOiAnICcpICsgYXJnc1swXSArICh1c2VDb2xvcnMgPyAnJWMgJyA6ICcgJykgKyAnKycgKyBleHBvcnRzLmh1bWFuaXplKHRoaXMuZGlmZik7XG5cbiAgICBpZiAoIXVzZUNvbG9ycykgcmV0dXJuO1xuXG4gICAgdmFyIGMgPSAnY29sb3I6ICcgKyB0aGlzLmNvbG9yO1xuICAgIGFyZ3Muc3BsaWNlKDEsIDAsIGMsICdjb2xvcjogaW5oZXJpdCcpO1xuXG4gICAgLy8gdGhlIGZpbmFsIFwiJWNcIiBpcyBzb21ld2hhdCB0cmlja3ksIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb3RoZXJcbiAgICAvLyBhcmd1bWVudHMgcGFzc2VkIGVpdGhlciBiZWZvcmUgb3IgYWZ0ZXIgdGhlICVjLCBzbyB3ZSBuZWVkIHRvXG4gICAgLy8gZmlndXJlIG91dCB0aGUgY29ycmVjdCBpbmRleCB0byBpbnNlcnQgdGhlIENTUyBpbnRvXG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgbGFzdEMgPSAwO1xuICAgIGFyZ3NbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgIGlmICgnJSUnID09PSBtYXRjaCkgcmV0dXJuO1xuICAgICAgaW5kZXgrKztcbiAgICAgIGlmICgnJWMnID09PSBtYXRjaCkge1xuICAgICAgICAvLyB3ZSBvbmx5IGFyZSBpbnRlcmVzdGVkIGluIHRoZSAqbGFzdCogJWNcbiAgICAgICAgLy8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bilcbiAgICAgICAgbGFzdEMgPSBpbmRleDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGFyZ3Muc3BsaWNlKGxhc3RDLCAwLCBjKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnZva2VzIGBjb25zb2xlLmxvZygpYCB3aGVuIGF2YWlsYWJsZS5cbiAgICogTm8tb3Agd2hlbiBgY29uc29sZS5sb2dgIGlzIG5vdCBhIFwiZnVuY3Rpb25cIi5cbiAgICpcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgZnVuY3Rpb24gbG9nKCkge1xuICAgIC8vIHRoaXMgaGFja2VyeSBpcyByZXF1aXJlZCBmb3IgSUU4LzksIHdoZXJlXG4gICAgLy8gdGhlIGBjb25zb2xlLmxvZ2AgZnVuY3Rpb24gZG9lc24ndCBoYXZlICdhcHBseSdcbiAgICByZXR1cm4gJ29iamVjdCcgPT09ICh0eXBlb2YgY29uc29sZSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoY29uc29sZSkpICYmIGNvbnNvbGUubG9nICYmIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGNvbnNvbGUubG9nLCBjb25zb2xlLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNhdmUgYG5hbWVzcGFjZXNgLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChudWxsID09IG5hbWVzcGFjZXMpIHtcbiAgICAgICAgZXhwb3J0cy5zdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlYnVnJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBleHBvcnRzLnN0b3JhZ2UuZGVidWcgPSBuYW1lc3BhY2VzO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBgbmFtZXNwYWNlc2AuXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJucyB0aGUgcHJldmlvdXNseSBwZXJzaXN0ZWQgZGVidWcgbW9kZXNcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGxvYWQoKSB7XG4gICAgdmFyIHI7XG4gICAgdHJ5IHtcbiAgICAgIHIgPSBleHBvcnRzLnN0b3JhZ2UuZGVidWc7XG4gICAgfSBjYXRjaCAoZSkge31cblxuICAgIC8vIElmIGRlYnVnIGlzbid0IHNldCBpbiBMUywgYW5kIHdlJ3JlIGluIEVsZWN0cm9uLCB0cnkgdG8gbG9hZCAkREVCVUdcbiAgICBpZiAoIXIgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICdlbnYnIGluIHByb2Nlc3MpIHtcbiAgICAgIHIgPSBwcm9jZXNzLmVudi5ERUJVRztcbiAgICB9XG5cbiAgICByZXR1cm4gcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgbmFtZXNwYWNlcyBsaXN0ZWQgaW4gYGxvY2FsU3RvcmFnZS5kZWJ1Z2AgaW5pdGlhbGx5LlxuICAgKi9cblxuICBleHBvcnRzLmVuYWJsZShsb2FkKCkpO1xuXG4gIC8qKlxuICAgKiBMb2NhbHN0b3JhZ2UgYXR0ZW1wdHMgdG8gcmV0dXJuIHRoZSBsb2NhbHN0b3JhZ2UuXG4gICAqXG4gICAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugc2FmYXJpIHRocm93c1xuICAgKiB3aGVuIGEgdXNlciBkaXNhYmxlcyBjb29raWVzL2xvY2Fsc3RvcmFnZVxuICAgKiBhbmQgeW91IGF0dGVtcHQgdG8gYWNjZXNzIGl0LlxuICAgKlxuICAgKiBAcmV0dXJuIHtMb2NhbFN0b3JhZ2V9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBmdW5jdGlvbiBsb2NhbHN0b3JhZ2UoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbn0pO1xudmFyIGJyb3dzZXJfMSA9IGJyb3dzZXIubG9nO1xudmFyIGJyb3dzZXJfMiA9IGJyb3dzZXIuZm9ybWF0QXJncztcbnZhciBicm93c2VyXzMgPSBicm93c2VyLnNhdmU7XG52YXIgYnJvd3Nlcl80ID0gYnJvd3Nlci5sb2FkO1xudmFyIGJyb3dzZXJfNSA9IGJyb3dzZXIudXNlQ29sb3JzO1xudmFyIGJyb3dzZXJfNiA9IGJyb3dzZXIuc3RvcmFnZTtcbnZhciBicm93c2VyXzcgPSBicm93c2VyLmNvbG9ycztcblxudmFyIERlYnVnID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkge1xuXG4gIC8qXG4gICAqIGFkb25pcy13ZWJzb2NrZXQtY2xpZW50XG4gICAqXG4gICAqIChjKSBIYXJtaW5kZXIgVmlyayA8dmlya0BhZG9uaXNqcy5jb20+XG4gICAqXG4gICAqIEZvciB0aGUgZnVsbCBjb3B5cmlnaHQgYW5kIGxpY2Vuc2UgaW5mb3JtYXRpb24sIHBsZWFzZSB2aWV3IHRoZSBMSUNFTlNFXG4gICAqIGZpbGUgdGhhdCB3YXMgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHNvdXJjZSBjb2RlLlxuICAqL1xuXG4gIHtcbiAgICB2YXIgX0RlYnVnID0gYnJvd3NlcjtcbiAgICBfRGVidWcuZW5hYmxlKCdhZG9uaXM6KicpO1xuICAgIG1vZHVsZS5leHBvcnRzID0gX0RlYnVnKCdhZG9uaXM6d2Vic29ja2V0Jyk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIFNvY2tldCBjbGFzcyBob2xkcyBkZXRhaWxzIGZvciBhIHNpbmdsZSBzdWJzY3JpcHRpb24uIFRoZSBpbnN0YW5jZVxuICogb2YgdGhpcyBjbGFzcyBjYW4gYmUgdXNlZCB0byBleGNoYW5nZSBtZXNzYWdlcyB3aXRoIHRoZSBzZXJ2ZXJcbiAqIG9uIGEgZ2l2ZW4gdG9waWMuXG4gKlxuICogQGNsYXNzIFNvY2tldFxuICovXG5cbnZhciBTb2NrZXQgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNvY2tldCh0b3BpYywgY29ubmVjdGlvbikge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIFNvY2tldCk7XG5cbiAgICB0aGlzLnRvcGljID0gdG9waWM7XG4gICAgdGhpcy5jb25uZWN0aW9uID0gY29ubmVjdGlvbjtcbiAgICB0aGlzLmVtaXR0ZXIgPSBuZXcgZW1pdHRlcnkoKTtcbiAgICB0aGlzLl9zdGF0ZSA9ICdwZW5kaW5nJztcbiAgICB0aGlzLl9lbWl0QnVmZmVyID0gW107XG4gIH1cblxuICAvKipcbiAgICogU29ja2V0IHN0YXRlXG4gICAqXG4gICAqIEBhdHRyaWJ1dGUgc3RhdGVcbiAgICpcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKi9cblxuXG4gIGNyZWF0ZUNsYXNzKFNvY2tldCwgW3tcbiAgICBrZXk6ICdqb2luQWNrJyxcblxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gc3Vic2NyaXB0aW9uIGlzIGNvbmZpcm1lZCBieSB0aGVcbiAgICAgKiBzZXJ2ZXJcbiAgICAgKlxuICAgICAqIEBtZXRob2Qgam9pbkFja1xuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gam9pbkFjaygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHRoaXMuc3RhdGUgPSAnb3Blbic7XG4gICAgICB0aGlzLmVtaXR0ZXIuZW1pdCgncmVhZHknLCB0aGlzKTtcblxuICAgICAge1xuICAgICAgICBEZWJ1ZygnY2xlYXJpbmcgZW1pdCBidWZmZXIgZm9yICVzIHRvcGljIGFmdGVyIHN1YnNjcmlwdGlvbiBhY2snLCB0aGlzLnRvcGljKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBQcm9jZXNzIHF1ZXVlZCBldmVudHNcbiAgICAgICAqL1xuICAgICAgdGhpcy5fZW1pdEJ1ZmZlci5mb3JFYWNoKGZ1bmN0aW9uIChidWYpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmVtaXQoYnVmLmV2ZW50LCBidWYuZGF0YSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2VtaXRCdWZmZXIgPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBzdWJzY3JpcHRpb24gaXMgcmVqZWN0ZWQgYnkgdGhlIHNlcnZlclxuICAgICAqXG4gICAgICogQG1ldGhvZCBqb2luRXJyb3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIHBhY2tldFxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnam9pbkVycm9yJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gam9pbkVycm9yKHBhY2tldCkge1xuICAgICAgdGhpcy5zdGF0ZSA9ICdlcnJvcic7XG4gICAgICB0aGlzLmVtaXR0ZXIuZW1pdCgnZXJyb3InLCBwYWNrZXQpO1xuICAgICAgdGhpcy5zZXJ2ZXJDbG9zZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHN1YnNjcmlwdGlvbiBjbG9zZSBpcyBhY2tub3dsZWRnZWRcbiAgICAgKiBieSB0aGUgc2VydmVyXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIGxlYXZlQWNrXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdsZWF2ZUFjaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxlYXZlQWNrKCkge1xuICAgICAgdGhpcy5zdGF0ZSA9ICdjbG9zZWQnO1xuICAgICAgdGhpcy5zZXJ2ZXJDbG9zZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGludm9rZWQsIHdoZW4gc2VydmVyIHJlamVjdHMgdG8gY2xvc2VcbiAgICAgKiB0aGUgc3Vic2NyaXB0aW9uLiBUaGUgc3RhdGUgb2YgdGhlIHNvY2tldCBzaG91bGQgbm90XG4gICAgICogY2hhbmdlIGhlcmVcbiAgICAgKlxuICAgICAqIEBtZXRob2QgbGVhdmVFcnJvclxuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgIHBhY2tldFxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnbGVhdmVFcnJvcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxlYXZlRXJyb3IocGFja2V0KSB7XG4gICAgICB0aGlzLmVtaXR0ZXIuZW1pdCgnbGVhdmVFcnJvcicsIHBhY2tldCk7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwtaWdub3JlICovXG4gICAgLyoqXG4gICAgICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIG9uXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ29uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb24oKSB7XG4gICAgICB2YXIgX2VtaXR0ZXI7XG5cbiAgICAgIChfZW1pdHRlciA9IHRoaXMuZW1pdHRlcikub24uYXBwbHkoX2VtaXR0ZXIsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwtaWdub3JlICovXG4gICAgLyoqXG4gICAgICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyIGZvciBvbmNlIG9ubHlcbiAgICAgKlxuICAgICAqIEBtZXRob2Qgb25jZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdvbmNlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25jZSgpIHtcbiAgICAgIHZhciBfZW1pdHRlcjI7XG5cbiAgICAgIChfZW1pdHRlcjIgPSB0aGlzLmVtaXR0ZXIpLm9uY2UuYXBwbHkoX2VtaXR0ZXIyLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsLWlnbm9yZSAqL1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBldmVudCBsaXN0ZW5lcihzKVxuICAgICAqXG4gICAgICogQG1ldGhvZCBvZmZcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnb2ZmJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb2ZmKCkge1xuICAgICAgdmFyIF9lbWl0dGVyMztcblxuICAgICAgKF9lbWl0dGVyMyA9IHRoaXMuZW1pdHRlcikub2ZmLmFwcGx5KF9lbWl0dGVyMywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbWl0IG1lc3NhZ2Ugb24gdGhlIHN1YnNjcmlwdGlvblxuICAgICAqXG4gICAgICogQG1ldGhvZCBlbWl0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGV2ZW50XG4gICAgICogQHBhcmFtICB7TWl4ZWR9IGRhdGFcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2VtaXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbWl0KGV2ZW50LCBkYXRhKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ3BlbmRpbmcnKSB7XG4gICAgICAgIHRoaXMuX2VtaXRCdWZmZXIucHVzaCh7IGV2ZW50OiBldmVudCwgZGF0YTogZGF0YSB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNvbm5lY3Rpb24uc2VuZEV2ZW50KHRoaXMudG9waWMsIGV2ZW50LCBkYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIGNvbm5lY3Rpb24gYW5kIHJlbW92ZXMgYWxsIGV4aXN0aW5nXG4gICAgICogbGlzdGVuZXJzXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIHNlcnZlckNsb3NlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzZXJ2ZXJDbG9zZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlcnZlckNsb3NlKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHJldHVybiB0aGlzLmVtaXR0ZXIuZW1pdCgnY2xvc2UnLCB0aGlzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMyLl9lbWl0QnVmZmVyID0gW107XG4gICAgICAgIF90aGlzMi5lbWl0dGVyLmNsZWFyTGlzdGVuZXJzKCk7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMi5fZW1pdEJ1ZmZlciA9IFtdO1xuICAgICAgICBfdGhpczIuZW1pdHRlci5jbGVhckxpc3RlbmVycygpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIGEgbmV3IGV2ZW50IGlzIHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlclxuICAgICAqXG4gICAgICogQG1ldGhvZCBzZXJ2ZXJFdmVudFxuICAgICAqXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgICBvcHRpb25zLmV2ZW50XG4gICAgICogQHBhcmFtICB7TWl4ZWR9ICAgIG9wdGlvbnMuZGF0YVxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc2VydmVyRXZlbnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXJ2ZXJFdmVudChfcmVmKSB7XG4gICAgICB2YXIgZXZlbnQgPSBfcmVmLmV2ZW50LFxuICAgICAgICAgIGRhdGEgPSBfcmVmLmRhdGE7XG5cbiAgICAgIHRoaXMuZW1pdHRlci5lbWl0KGV2ZW50LCBkYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWNlaXZlZCBlcnJvciBvbiBjb25uZWN0aW9uXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIHNlcnZlckVycm9yXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzZXJ2ZXJFcnJvcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlcnZlckVycm9yKCkge1xuICAgICAgdGhpcy5zdGF0ZSA9ICdlcnJvcic7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZHMgdGhlIHJlcXVlc3Qgb24gc2VydmVyIHRvIGNsb3NlIHRoZSBzdWJzY3JpcHRpb24sIHdlXG4gICAgICogaGF2ZSB0byB3YWl0IGZvciBhY2tub3dsZWRnbWVudCB0b29cbiAgICAgKlxuICAgICAqIEBtZXRob2QgY2xvc2VcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2Nsb3NlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICB0aGlzLnN0YXRlID0gJ2Nsb3NpbmcnO1xuICAgICAge1xuICAgICAgICBEZWJ1ZygnY2xvc2luZyBzdWJzY3JpcHRpb24gZm9yICVzIHRvcGljIHdpdGggc2VydmVyJywgdGhpcy50b3BpYyk7XG4gICAgICB9XG4gICAgICB0aGlzLmNvbm5lY3Rpb24uc2VuZFBhY2tldCh3c3BfYnJvd3Nlci5sZWF2ZVBhY2tldCh0aGlzLnRvcGljKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9yY2VmdWxseSB0ZXJtaW5hdGluZyB0aGUgc3Vic2NyaXB0aW9uXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIHRlcm1pbmF0ZVxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndGVybWluYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdGVybWluYXRlKCkge1xuICAgICAgdGhpcy5sZWF2ZUFjaygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3N0YXRlJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgc29ja2V0IHN0YXRlXG4gICAgICovXG4gICAgLFxuICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHN0YXRlKSB7XG4gICAgICBpZiAoIXRoaXMuY29uc3RydWN0b3Iuc3RhdGVzLmluZGV4T2Yoc3RhdGUpID09PSAtMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3Ioc3RhdGUgKyAnIGlzIG5vdCBhIHZhbGlkIHNvY2tldCBzdGF0ZScpO1xuICAgICAgfVxuICAgICAgdGhpcy5fc3RhdGUgPSBzdGF0ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHN0YXRpYyBhcnJheSBvZiBpbnRlcm5hbCBzdGF0ZXNcbiAgICAgKlxuICAgICAqIEBtZXRob2Qgc3RhdGVzXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKi9cblxuICB9XSwgW3tcbiAgICBrZXk6ICdzdGF0ZXMnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgcmV0dXJuIFsncGVuZGluZycsICdvcGVuJywgJ2Nsb3NlZCcsICdjbG9zaW5nJywgJ2Vycm9yJ107XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBTb2NrZXQ7XG59KCk7XG5cbi8qKlxuICogYWRvbmlzLXdlYnNvY2tldC1jbGllbnRcbiAqXG4gKiAoYykgSGFybWluZGVyIFZpcmsgPHZpcmtAYWRvbmlzanMuY29tPlxuICpcbiAqIEZvciB0aGUgZnVsbCBjb3B5cmlnaHQgYW5kIGxpY2Vuc2UgaW5mb3JtYXRpb24sIHBsZWFzZSB2aWV3IHRoZSBMSUNFTlNFXG4gKiBmaWxlIHRoYXQgd2FzIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBzb3VyY2UgY29kZS5cbiovXG5cbi8qKlxuICogVGhlIGRlZmF1bHQgZW5jb2RlciB0byBlbmNvZGUgcGFja2V0cy5cbiAqL1xuXG52YXIgSnNvbkVuY29kZXIgPSB7XG4gIG5hbWU6ICdqc29uJyxcbiAgLyoqXG4gICAqIEVuY29kZSBhIHZhbHVlIGJ5IHN0cmluZ2lmeWluZyBpdFxuICAgKlxuICAgKiBAbWV0aG9kIGVuY29kZVxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgcGF5bG9hZFxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICpcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGVuY29kZTogZnVuY3Rpb24gZW5jb2RlKHBheWxvYWQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGVuY29kZWQgPSBudWxsO1xuXG4gICAgdHJ5IHtcbiAgICAgIGVuY29kZWQgPSBKU09OLnN0cmluZ2lmeShwYXlsb2FkKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycm9yKTtcbiAgICB9XG4gICAgY2FsbGJhY2sobnVsbCwgZW5jb2RlZCk7XG4gIH0sXG5cblxuICAvKipcbiAgICogRGVjb2RlIHZhbHVlIGJ5IHBhcnNpbmcgaXRcbiAgICpcbiAgICogQG1ldGhvZCBkZWNvZGVcbiAgICpcbiAgICogQHBhcmFtICB7U3RyaW5nfSAgIHBheWxvYWRcbiAgICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBkZWNvZGU6IGZ1bmN0aW9uIGRlY29kZShwYXlsb2FkLCBjYWxsYmFjaykge1xuICAgIHZhciBkZWNvZGVkID0gbnVsbDtcblxuICAgIHRyeSB7XG4gICAgICBkZWNvZGVkID0gSlNPTi5wYXJzZShwYXlsb2FkKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycm9yKTtcbiAgICB9XG4gICAgY2FsbGJhY2sobnVsbCwgZGVjb2RlZCk7XG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgd3MgcHJvdG9jb2wgYmFzZWQgdXBvbiBIVFRQIG9yIEhUVFBTXG4gKlxuICogQHJldHVybnMge1N0cmluZ31cbiAqXG4gKi9cbnZhciB3c1Byb3RvY29sID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6JyA/ICd3c3MnIDogJ3dzJztcblxuLyoqXG4gKiBDb25uZWN0aW9uIGNsYXNzIGlzIHVzZWQgdG8gbWFrZSBhIFRDUC9Tb2NrZXQgY29ubmVjdGlvblxuICogd2l0aCB0aGUgc2VydmVyLiBJdCByZWxpZXMgb24gTmF0aXZlIFdlYnNvY2tldCBicm93c2VyXG4gKiBzdXBwb3J0LlxuICpcbiAqIEBjbGFzcyBDb25uZWN0aW9uXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqL1xuXG52YXIgQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIChfRW1pdHRlcikge1xuICBpbmhlcml0cyhDb25uZWN0aW9uLCBfRW1pdHRlcik7XG5cbiAgZnVuY3Rpb24gQ29ubmVjdGlvbih1cmwsIG9wdGlvbnMpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBDb25uZWN0aW9uKTtcblxuICAgIHZhciBfdGhpcyA9IHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKENvbm5lY3Rpb24uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDb25uZWN0aW9uKSkuY2FsbCh0aGlzKSk7XG5cbiAgICB1cmwgPSB1cmwgfHwgd3NQcm90b2NvbCArICc6Ly8nICsgd2luZG93LmxvY2F0aW9uLmhvc3Q7XG5cbiAgICAvKipcbiAgICAgKiBDb25uZWN0aW9uIG9wdGlvbnNcbiAgICAgKlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgX3RoaXMub3B0aW9ucyA9IF9leHRlbmRzKHtcbiAgICAgIHBhdGg6ICdhZG9uaXMtd3MnLFxuICAgICAgcmVjb25uZWN0aW9uOiB0cnVlLFxuICAgICAgcmVjb25uZWN0aW9uQXR0ZW1wdHM6IDEwLFxuICAgICAgcmVjb25uZWN0aW9uRGVsYXk6IDEwMDAsXG4gICAgICBxdWVyeTogbnVsbCxcbiAgICAgIGVuY29kZXI6IEpzb25FbmNvZGVyXG4gICAgfSwgb3B0aW9ucyk7XG5cbiAgICB7XG4gICAgICBEZWJ1ZygnY29ubmVjdGlvbiBvcHRpb25zICVvJywgX3RoaXMub3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHN0YXRlIGNvbm5lY3Rpb24gaXMgaW5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICovXG4gICAgX3RoaXMuX2Nvbm5lY3Rpb25TdGF0ZSA9ICdpZGxlJztcblxuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiByZWNvbm5lY3Rpb24gYXR0ZW1wdHMgYmVpbmcgbWFkZVxuICAgICAqXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKi9cbiAgICBfdGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHMgPSAwO1xuXG4gICAgLyoqXG4gICAgICogQWxsIHBhY2tldHMgYXJlIHNlbnQgaW4gc2VxdWVuY2UgdG8gdGhlIHNlcnZlci4gU28gd2UgbmVlZCB0b1xuICAgICAqIG1haW50YWluIGEgcXVldWUgYW5kIHByb2Nlc3Mgb25lIGF0IGEgdGltZVxuICAgICAqXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqL1xuICAgIF90aGlzLl9wYWNrZXRzUXVldWUgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IHRoZSBxdWV1ZSBpcyBpbiBwcm9jZXNzXG4gICAgICpcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBfdGhpcy5fcHJvY2Vzc2luZ1F1ZXVlID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBBcyBwZXIgQWRvbmlzIHByb3RvY29sLCB0aGUgY2xpZW50IG11c3QgcGluZ1xuICAgICAqIHRoZSBzZXJ2ZXIgYWZ0ZXIgeCBpbnRlcnZhbFxuICAgICAqXG4gICAgICogQHR5cGUge1RpbWVyfVxuICAgICAqL1xuICAgIF90aGlzLl9waW5nVGltZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogRXh0ZW5kZWQgcXVlcnkgaXMgbWVyZ2VkIHdpdGggdGhlIHF1ZXJ5IHBhcmFtc1xuICAgICAqIHVzZXIgcGFzc1xuICAgICAqXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICBfdGhpcy5fZXh0ZW5kZWRRdWVyeSA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQmFzZSBVUkwgZm9yIHRoZSB3ZWJzb2NrZXQgY29ubmVjdGlvblxuICAgICAqXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKi9cbiAgICBfdGhpcy5fdXJsID0gdXJsLnJlcGxhY2UoL1xcLyQvLCAnJykgKyAnLycgKyBfdGhpcy5vcHRpb25zLnBhdGg7XG5cbiAgICAvKipcbiAgICAgKiBTdWJzY3JpcHRpb25zIGZvciBhIHNpbmdsZSBjb25uZWN0aW9uXG4gICAgICpcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIF90aGlzLnN1YnNjcmlwdGlvbnMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXIgY2FsbGVkIHdoZW4gYGNsb3NlYCBpcyBlbWl0dGVkIGZyb20gdGhlXG4gICAgICogc3Vic2NyaXB0aW9uXG4gICAgICovXG4gICAgX3RoaXMucmVtb3ZlU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgIHZhciB0b3BpYyA9IF9yZWYudG9waWM7XG5cbiAgICAgIGRlbGV0ZSBfdGhpcy5zdWJzY3JpcHRpb25zW3RvcGljXTtcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wdXRlZCB2YWx1ZSB0byBkZWNpZGUsIHdoZXRoZXIgb3Igbm90IHRvIHJlY29ubmVjdFxuICAgKlxuICAgKiBAbWV0aG9kIHNob3VsZFJlY29ubmVjdFxuICAgKlxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKi9cblxuXG4gIGNyZWF0ZUNsYXNzKENvbm5lY3Rpb24sIFt7XG4gICAga2V5OiAnX2NsZWFudXAnLFxuXG5cbiAgICAvKipcbiAgICAgKiBDbGVhbiByZWZlcmVuY2VzXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIF9jbGVhbnVwXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gX2NsZWFudXAoKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuX3BpbmdUaW1lcik7XG4gICAgICB0aGlzLndzID0gbnVsbDtcbiAgICAgIHRoaXMuX3BpbmdUaW1lciA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbHMgYSBjYWxsYmFjayBwYXNzaW5nIHN1YnNjcmlwdGlvbiB0byBpdFxuICAgICAqXG4gICAgICogQG1ldGhvZCBfc3Vic2NyaXB0aW9uc0l0ZXJhdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gICAgICAgICAgICAgY2FsbGJhY2tcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfc3Vic2NyaXB0aW9uc0l0ZXJhdG9yJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3N1YnNjcmlwdGlvbnNJdGVyYXRvcihjYWxsYmFjaykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIE9iamVjdC5rZXlzKHRoaXMuc3Vic2NyaXB0aW9ucykuZm9yRWFjaChmdW5jdGlvbiAoc3ViKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhfdGhpczIuc3Vic2NyaXB0aW9uc1tzdWJdLCBzdWIpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbHMgdGhlIGNhbGxiYWNrIHdoZW4gdGhlcmUgaXMgYSBzdWJzY3JpcHRpb24gZm9yXG4gICAgICogdGhlIHRvcGljIG1lbnRpb25lZCBpbiB0aGUgcGFja2V0XG4gICAgICpcbiAgICAgKiBAbWV0aG9kIF9lbnN1cmVTdWJzY3JpcHRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgICAgICBwYWNrZXRcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gICAgICAgICAgY2JcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfZW5zdXJlU3Vic2NyaXB0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2Vuc3VyZVN1YnNjcmlwdGlvbihwYWNrZXQsIGNiKSB7XG4gICAgICB2YXIgc29ja2V0ID0gdGhpcy5nZXRTdWJzY3JpcHRpb24ocGFja2V0LmQudG9waWMpO1xuXG4gICAgICBpZiAoIXNvY2tldCkge1xuICAgICAgICB7XG4gICAgICAgICAgRGVidWcoJ2Nhbm5vdCBjb25zdW1lIHBhY2tldCBzaW5jZSAlcyB0b3BpYyBoYXMgbm8gYWN0aXZlIHN1YnNjcmlwdGlvbiAlaicsIHBhY2tldC5kLnRvcGljLCBwYWNrZXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY2Ioc29ja2V0LCBwYWNrZXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgdGhlIHBhY2tldHMgcXVldWUgYnkgc2VuZGluZyBvbmUgcGFja2V0IGF0IGEgdGltZVxuICAgICAqXG4gICAgICogQG1ldGhvZCBfcHJvY2Vzc1F1ZXVlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX3Byb2Nlc3NRdWV1ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9wcm9jZXNzUXVldWUoKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuX3Byb2Nlc3NpbmdRdWV1ZSB8fCAhdGhpcy5fcGFja2V0c1F1ZXVlLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogVHVybiBvbiB0aGUgcHJvY2Vzc2luZyBmbGFnXG4gICAgICAgKlxuICAgICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICAgKi9cbiAgICAgIHRoaXMuX3Byb2Nlc3NpbmdRdWV1ZSA9IHRydWU7XG5cbiAgICAgIHRoaXMub3B0aW9ucy5lbmNvZGVyLmVuY29kZSh0aGlzLl9wYWNrZXRzUXVldWUuc2hpZnQoKSwgZnVuY3Rpb24gKGVycm9yLCBwYXlsb2FkKSB7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIERlYnVnKCdlbmNvZGUgZXJyb3IgJWonLCBlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBfdGhpczMud3JpdGUocGF5bG9hZCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFR1cm4gb2ZmIHRoZSBwcm9jZXNzaW5nIGZsYWcgYW5kIHJlIGNhbGwgdGhlIHByb2Nlc3NRdWV1ZSB0byBzZW5kXG4gICAgICAgICAqIHRoZSBuZXh0IG1lc3NhZ2VcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpczMuX3Byb2Nlc3NpbmdRdWV1ZSA9IGZhbHNlO1xuICAgICAgICBfdGhpczMuX3Byb2Nlc3NRdWV1ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXMgc29vbiBhcyBjb25uZWN0aW9uIGlzIHJlYWR5LCB3ZSBzdGFydCBsaXN0ZW5pbmdcbiAgICAgKiBmb3IgbmV3IG1lc3NhZ2VcbiAgICAgKlxuICAgICAqIEBtZXRob2QgX29uT3BlblxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19vbk9wZW4nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfb25PcGVuKCkge1xuICAgICAge1xuICAgICAgICBEZWJ1Zygnb3BlbmVkJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hlbiByZWNlaXZlZCBjb25uZWN0aW9uIGVycm9yXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIF9vbkVycm9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtFdmVudH0gZXZlbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfb25FcnJvcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9vbkVycm9yKGV2ZW50KSB7XG4gICAgICB7XG4gICAgICAgIERlYnVnKCdlcnJvciAlTycsIGV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uc0l0ZXJhdG9yKGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbi5zZXJ2ZXJFcnJvcigpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXZlbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYXRlcyByZWNvbm5lY3Qgd2l0aCB0aGUgc2VydmVyIGJ5IG1vdmluZ1xuICAgICAqIGFsbCBzdWJzY3JpcHRpb25zIHRvIHBlbmRpbmcgc3RhdGVcbiAgICAgKlxuICAgICAqIEBtZXRob2QgX3JlY29ubmVjdFxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19yZWNvbm5lY3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVjb25uZWN0KCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHRoaXMuX3JlY29ubmVjdGlvbkF0dGVtcHRzKys7XG5cbiAgICAgIHRoaXMuZW1pdCgncmVjb25uZWN0JywgdGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHMpO1xuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM0Ll9jb25uZWN0aW9uU3RhdGUgPSAncmVjb25uZWN0JztcbiAgICAgICAgX3RoaXM0LmNvbm5lY3QoKTtcbiAgICAgIH0sIHRoaXMub3B0aW9ucy5yZWNvbm5lY3Rpb25EZWxheSAqIHRoaXMuX3JlY29ubmVjdGlvbkF0dGVtcHRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGNvbm5lY3Rpb24gY2xvc2VzXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIF9vbkNsb3NlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtFdmVudH0gZXZlbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfb25DbG9zZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9vbkNsb3NlKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAge1xuICAgICAgICBEZWJ1ZygnY2xvc2luZyBmcm9tICVzIHN0YXRlJywgdGhpcy5fY29ubmVjdGlvblN0YXRlKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fY2xlYW51cCgpO1xuXG4gICAgICAvKipcbiAgICAgICAqIEZvcmNlIHN1YnNjcmlwdGlvbnMgdG8gdGVybWluYXRlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbnNJdGVyYXRvcihmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb24udGVybWluYXRlKCk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5lbWl0KCdjbG9zZScsIHRoaXMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczUuc2hvdWxkUmVjb25uZWN0ID8gX3RoaXM1Ll9yZWNvbm5lY3QoKSA6IF90aGlzNS5jbGVhckxpc3RlbmVycygpO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczUuc2hvdWxkUmVjb25uZWN0ID8gX3RoaXM1Ll9yZWNvbm5lY3QoKSA6IF90aGlzNS5jbGVhckxpc3RlbmVycygpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hlbiBhIG5ldyBtZXNzYWdlIHdhcyByZWNlaXZlZFxuICAgICAqXG4gICAgICogQG1ldGhvZCBfb25NZXNzYWdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtFdmVudH0gICBldmVudFxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19vbk1lc3NhZ2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfb25NZXNzYWdlKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgdGhpcy5vcHRpb25zLmVuY29kZXIuZGVjb2RlKGV2ZW50LmRhdGEsIGZ1bmN0aW9uIChkZWNvZGVFcnJvciwgcGFja2V0KSB7XG4gICAgICAgIGlmIChkZWNvZGVFcnJvcikge1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIERlYnVnKCdwYWNrZXQgZHJvcHBlZCwgZGVjb2RlIGVycm9yICVvJywgZGVjb2RlRXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXM2Ll9oYW5kbGVNZXNzYWdlKHBhY2tldCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSBtZXNzYWdlIHBhY2tldCBiYXNlZCB1cG9uIGl0J3MgdHlwZVxuICAgICAqXG4gICAgICogQG1ldGhvZCBfaGFuZGxlTWVzc2FnZVxuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgICAgICBwYWNrZXRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfaGFuZGxlTWVzc2FnZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVNZXNzYWdlKHBhY2tldCkge1xuICAgICAgaWYgKHdzcF9icm93c2VyLmlzT3BlblBhY2tldChwYWNrZXQpKSB7XG4gICAgICAgIHtcbiAgICAgICAgICBEZWJ1Zygnb3BlbiBwYWNrZXQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9oYW5kbGVPcGVuKHBhY2tldCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHdzcF9icm93c2VyLmlzSm9pbkFja1BhY2tldChwYWNrZXQpKSB7XG4gICAgICAgIHtcbiAgICAgICAgICBEZWJ1Zygnam9pbiBhY2sgcGFja2V0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faGFuZGxlSm9pbkFjayhwYWNrZXQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh3c3BfYnJvd3Nlci5pc0pvaW5FcnJvclBhY2tldChwYWNrZXQpKSB7XG4gICAgICAgIHtcbiAgICAgICAgICBEZWJ1Zygnam9pbiBlcnJvciBwYWNrZXQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9oYW5kbGVKb2luRXJyb3IocGFja2V0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAod3NwX2Jyb3dzZXIuaXNMZWF2ZUFja1BhY2tldChwYWNrZXQpKSB7XG4gICAgICAgIHtcbiAgICAgICAgICBEZWJ1ZygnbGVhdmUgYWNrIHBhY2tldCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2hhbmRsZUxlYXZlQWNrKHBhY2tldCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHdzcF9icm93c2VyLmlzTGVhdmVFcnJvclBhY2tldChwYWNrZXQpKSB7XG4gICAgICAgIHtcbiAgICAgICAgICBEZWJ1ZygnbGVhdmUgZXJyb3IgcGFja2V0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faGFuZGxlTGVhdmVFcnJvcihwYWNrZXQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh3c3BfYnJvd3Nlci5pc0xlYXZlUGFja2V0KHBhY2tldCkpIHtcbiAgICAgICAge1xuICAgICAgICAgIERlYnVnKCdsZWF2ZSBwYWNrZXQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9oYW5kbGVTZXJ2ZXJMZWF2ZShwYWNrZXQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh3c3BfYnJvd3Nlci5pc0V2ZW50UGFja2V0KHBhY2tldCkpIHtcbiAgICAgICAge1xuICAgICAgICAgIERlYnVnKCdldmVudCBwYWNrZXQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9oYW5kbGVFdmVudChwYWNrZXQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh3c3BfYnJvd3Nlci5pc1BvbmdQYWNrZXQocGFja2V0KSkge1xuICAgICAgICB7XG4gICAgICAgICAgRGVidWcoJ3BvbmcgcGFja2V0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB7XG4gICAgICAgIERlYnVnKCdpbnZhbGlkIHBhY2tldCB0eXBlICVkJywgcGFja2V0LnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVtaXRzIHRoZSBvcGVuIGVtaXQgYW5kIHNlbmQgc3Vic2NyaXB0aW9uIHBhY2tldHNcbiAgICAgKiBmb3IgcHJlLWV4aXN0aW5nIHN1YnNjcmlwdGlvbnNcbiAgICAgKlxuICAgICAqIEBtZXRob2QgX2hhbmRsZU9wZW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICAgcGFja2V0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2hhbmRsZU9wZW4nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlT3BlbihwYWNrZXQpIHtcbiAgICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXG4gICAgICB0aGlzLl9jb25uZWN0aW9uU3RhdGUgPSAnb3Blbic7XG4gICAgICB0aGlzLmVtaXQoJ29wZW4nLCBwYWNrZXQuZCk7XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0dXAgYSB0aW1lciB0byBwaW5nIHRoZSBzZXJ2ZXIsIHRlbGxpbmdcbiAgICAgICAqIGNsaWVudCBpcyBhd2FrZVxuICAgICAgICovXG4gICAgICB0aGlzLl9waW5nVGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzNy5zZW5kUGFja2V0KHdzcF9icm93c2VyLnBpbmdQYWNrZXQoKSk7XG4gICAgICB9LCBwYWNrZXQuZC5jbGllbnRJbnRlcnZhbCk7XG5cbiAgICAgIC8qKlxuICAgICAgICogU2VuZGluZyBwYWNrZXRzIHRvIG1ha2UgcGVuZGluZyBzdWJzY3JpcHRpb25zXG4gICAgICAgKi9cbiAgICAgIHtcbiAgICAgICAgRGVidWcoJ3Byb2Nlc3NpbmcgcHJlIGNvbm5lY3Rpb24gc3Vic2NyaXB0aW9ucyAlbycsIE9iamVjdC5rZXlzKHRoaXMuc3Vic2NyaXB0aW9ucykpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9zdWJzY3JpcHRpb25zSXRlcmF0b3IoZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICBfdGhpczcuX3NlbmRTdWJzY3JpcHRpb25QYWNrZXQoc3Vic2NyaXB0aW9uLnRvcGljKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIGpvaW4gYWNrbm93bGVkZ2VtZW50IGZvciBhIHN1YnNjcmlwdGlvblxuICAgICAqXG4gICAgICogQG1ldGhvZCBfaGFuZGxlSm9pbkFja1xuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgICAgICBwYWNrZXRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfaGFuZGxlSm9pbkFjaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVKb2luQWNrKHBhY2tldCkge1xuICAgICAgdGhpcy5fZW5zdXJlU3Vic2NyaXB0aW9uKHBhY2tldCwgZnVuY3Rpb24gKHNvY2tldCkge1xuICAgICAgICByZXR1cm4gc29ja2V0LmpvaW5BY2soKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIGpvaW4gZXJyb3IgZm9yIGEgc3Vic2NyaXB0aW9uXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIF9oYW5kbGVKb2luRXJyb3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgICBwYWNrZXRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfaGFuZGxlSm9pbkVycm9yJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUpvaW5FcnJvcihwYWNrZXQpIHtcbiAgICAgIHRoaXMuX2Vuc3VyZVN1YnNjcmlwdGlvbihwYWNrZXQsIGZ1bmN0aW9uIChzb2NrZXQsIHBhY2tldCkge1xuICAgICAgICByZXR1cm4gc29ja2V0LmpvaW5FcnJvcihwYWNrZXQuZCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBY2tub3dsZWRnZXMgdGhlIHN1YnNjcmlwdGlvbiBsZWF2ZVxuICAgICAqXG4gICAgICogQG1ldGhvZCBfaGFuZGxlTGVhdmVBY2tcbiAgICAgKlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgIHBhY2tldFxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19oYW5kbGVMZWF2ZUFjaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVMZWF2ZUFjayhwYWNrZXQpIHtcbiAgICAgIHRoaXMuX2Vuc3VyZVN1YnNjcmlwdGlvbihwYWNrZXQsIGZ1bmN0aW9uIChzb2NrZXQpIHtcbiAgICAgICAgcmV0dXJuIHNvY2tldC5sZWF2ZUFjaygpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBsZWF2ZSBlcnJvciBmb3IgYSBzdWJzY3JpcHRpb25cbiAgICAgKlxuICAgICAqIEBtZXRob2QgX2hhbmRsZUxlYXZlRXJyb3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgICAgcGFja2V0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2hhbmRsZUxlYXZlRXJyb3InLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlTGVhdmVFcnJvcihwYWNrZXQpIHtcbiAgICAgIHRoaXMuX2Vuc3VyZVN1YnNjcmlwdGlvbihwYWNrZXQsIGZ1bmN0aW9uIChzb2NrZXQsIHBhY2tldCkge1xuICAgICAgICByZXR1cm4gc29ja2V0LmxlYXZlRXJyb3IocGFja2V0LmQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB3aGVuIHNlcnZlciBpbml0aWF0ZXMgdGhlIHN1YnNjcmlwdGlvbiBsZWF2ZVxuICAgICAqXG4gICAgICogQG1ldGhvZCBfaGFuZGxlU2VydmVyTGVhdmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgICAgIHBhY2tldFxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19oYW5kbGVTZXJ2ZXJMZWF2ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVTZXJ2ZXJMZWF2ZShwYWNrZXQpIHtcbiAgICAgIHRoaXMuX2Vuc3VyZVN1YnNjcmlwdGlvbihwYWNrZXQsIGZ1bmN0aW9uIChzb2NrZXQsIHBhY2tldCkge1xuICAgICAgICByZXR1cm4gc29ja2V0LmxlYXZlQWNrKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSBldmVudCBwYWNrZXQgZm9yIGEgc3Vic2NyaXB0aW9uXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIF9oYW5kbGVFdmVudFxuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgICAgcGFja2V0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2hhbmRsZUV2ZW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUV2ZW50KHBhY2tldCkge1xuICAgICAgdGhpcy5fZW5zdXJlU3Vic2NyaXB0aW9uKHBhY2tldCwgZnVuY3Rpb24gKHNvY2tldCwgcGFja2V0KSB7XG4gICAgICAgIHJldHVybiBzb2NrZXQuc2VydmVyRXZlbnQocGFja2V0LmQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZHMgdGhlIHN1YnNjcmlwdGlvbiBwYWNrZXQgZm9yIGEgZ2l2ZW4gdG9waWNcbiAgICAgKlxuICAgICAqIEBtZXRob2Qgc2VuZFN1YnNjcmlwdGlvblBhY2tldFxuICAgICAqXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgICAgIHRvcGljXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX3NlbmRTdWJzY3JpcHRpb25QYWNrZXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2VuZFN1YnNjcmlwdGlvblBhY2tldCh0b3BpYykge1xuICAgICAge1xuICAgICAgICBEZWJ1ZygnaW5pdGlhdGluZyBzdWJzY3JpcHRpb24gZm9yICVzIHRvcGljIHdpdGggc2VydmVyJywgdG9waWMpO1xuICAgICAgfVxuICAgICAgdGhpcy5zZW5kUGFja2V0KHdzcF9icm93c2VyLmpvaW5QYWNrZXQodG9waWMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnN0YW50aWF0ZSB0aGUgd2Vic29ja2V0IGNvbm5lY3Rpb25cbiAgICAgKlxuICAgICAqIEBtZXRob2QgY29ubmVjdFxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnY29ubmVjdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbm5lY3QoKSB7XG4gICAgICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICAgICAgdmFyIHF1ZXJ5ID0gc3RyaW5naWZ5KF9leHRlbmRzKHt9LCB0aGlzLm9wdGlvbnMucXVlcnksIHRoaXMuX2V4dGVuZGVkUXVlcnkpKTtcbiAgICAgIHZhciB1cmwgPSBxdWVyeSA/IHRoaXMuX3VybCArICc/JyArIHF1ZXJ5IDogdGhpcy5fdXJsO1xuXG4gICAgICB7XG4gICAgICAgIERlYnVnKCdjcmVhdGluZyBzb2NrZXQgY29ubmVjdGlvbiBvbiAlcyB1cmwnLCB1cmwpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLndzID0gbmV3IHdpbmRvdy5XZWJTb2NrZXQodXJsKTtcbiAgICAgIHRoaXMud3Mub25jbG9zZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gX3RoaXM4Ll9vbkNsb3NlKGV2ZW50KTtcbiAgICAgIH07XG4gICAgICB0aGlzLndzLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzOC5fb25FcnJvcihldmVudCk7XG4gICAgICB9O1xuICAgICAgdGhpcy53cy5vbm9wZW4gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzOC5fb25PcGVuKGV2ZW50KTtcbiAgICAgIH07XG4gICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gX3RoaXM4Ll9vbk1lc3NhZ2UoZXZlbnQpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV3JpdGVzIHRoZSBwYXlsb2FkIG9uIHRoZSBvcGVuIGNvbm5lY3Rpb25cbiAgICAgKlxuICAgICAqIEBtZXRob2Qgd3JpdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gcGF5bG9hZFxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnd3JpdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB3cml0ZShwYXlsb2FkKSB7XG4gICAgICBpZiAodGhpcy53cy5yZWFkeVN0YXRlICE9PSB3aW5kb3cuV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgICAge1xuICAgICAgICAgIERlYnVnKCdjb25uZWN0aW9uIGlzIG5vdCBpbiBvcGVuIHN0YXRlLCBjdXJyZW50IHN0YXRlICVzJywgdGhpcy53cy5yZWFkeVN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMud3Muc2VuZChwYXlsb2FkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIHBhY2tldCBieSBlbmNvZGluZyBpdCBmaXJzdFxuICAgICAqXG4gICAgICogQG1ldGhvZCBfc2VuZFBhY2tldFxuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgICBwYWNrZXRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NlbmRQYWNrZXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZW5kUGFja2V0KHBhY2tldCkge1xuICAgICAgdGhpcy5fcGFja2V0c1F1ZXVlLnB1c2gocGFja2V0KTtcbiAgICAgIHRoaXMuX3Byb2Nlc3NRdWV1ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHN1YnNjcmlwdGlvbiBpbnN0YW5jZSBmb3IgYSBnaXZlbiB0b3BpY1xuICAgICAqXG4gICAgICogQG1ldGhvZCBnZXRTdWJzY3JpcHRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgIHRvcGljXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTb2NrZXR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldFN1YnNjcmlwdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFN1YnNjcmlwdGlvbih0b3BpYykge1xuICAgICAgcmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9uc1t0b3BpY107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGJvb2xlYW4gdGVsbGluZywgd2hldGhlciBjb25uZWN0aW9uIGhhc1xuICAgICAqIGEgc3Vic2NyaXB0aW9uIGZvciBhIGdpdmVuIHRvcGljIG9yIG5vdFxuICAgICAqXG4gICAgICogQG1ldGhvZCBoYXNTdWJjcmlwdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgICAgICB0b3BpY1xuICAgICAqXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnaGFzU3ViY3JpcHRpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYXNTdWJjcmlwdGlvbih0b3BpYykge1xuICAgICAgcmV0dXJuICEhdGhpcy5nZXRTdWJzY3JpcHRpb24odG9waWMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBzdWJzY3JpcHRpb24gd2l0aCB0aGUgc2VydmVyXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIHN1YnNjcmliZVxuICAgICAqXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgdG9waWNcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NvY2tldH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc3Vic2NyaWJlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3Vic2NyaWJlKHRvcGljKSB7XG4gICAgICBpZiAoIXRvcGljIHx8IHR5cGVvZiB0b3BpYyAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdWJzY3JpYmUgbWV0aG9kIGV4cGVjdHMgdG9waWMgdG8gYmUgYSB2YWxpZCBzdHJpbmcnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc3Vic2NyaXB0aW9uc1t0b3BpY10pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgc3Vic2NyaWJlIHRvIHNhbWUgdG9waWMgdHdpY2UuIEluc3RlYWQgdXNlIGdldFN1YnNjcmlwdGlvbicpO1xuICAgICAgfVxuXG4gICAgICB2YXIgc29ja2V0ID0gbmV3IFNvY2tldCh0b3BpYywgdGhpcyk7XG4gICAgICBzb2NrZXQub24oJ2Nsb3NlJywgdGhpcy5yZW1vdmVTdWJzY3JpcHRpb24pO1xuXG4gICAgICAvKipcbiAgICAgICAqIFN0b3JpbmcgcmVmZXJlbmNlIHRvIHRoZSBzb2NrZXRcbiAgICAgICAqL1xuICAgICAgdGhpcy5zdWJzY3JpcHRpb25zW3RvcGljXSA9IHNvY2tldDtcblxuICAgICAgLyoqXG4gICAgICAgKiBTZW5kaW5nIGpvaW4gcmVxdWVzdCB0byB0aGUgc2VydmVyLCB0aGUgc3Vic2NyaXB0aW9uIHdpbGxcbiAgICAgICAqIGJlIGNvbnNpZGVyZWQgcmVhZHksIG9uY2Ugc2VydmVyIGFja25vd2xlZGdlcyBpdFxuICAgICAgICovXG4gICAgICBpZiAodGhpcy5fY29ubmVjdGlvblN0YXRlID09PSAnb3BlbicpIHtcbiAgICAgICAgdGhpcy5fc2VuZFN1YnNjcmlwdGlvblBhY2tldCh0b3BpYyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzb2NrZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZHMgZXZlbnQgZm9yIGEgZ2l2ZW4gdG9waWNcbiAgICAgKlxuICAgICAqIEBtZXRob2Qgc2VuZEV2ZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICB0b3BpY1xuICAgICAqIEBwYXJhbSAge1N0cmluZ30gIGV2ZW50XG4gICAgICogQHBhcmFtICB7TWl4ZWR9ICBkYXRhXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqXG4gICAgICogQHRocm93cyB7RXJyb3J9IElmIHRvcGljIG9yIGV2ZW50IGFyZSBub3QgcGFzc2VkXG4gICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZXJlIGlzIG5vIGFjdGl2ZSBzdWJzY3JpcHRpb24gZm9yIHRoZSBnaXZlbiB0b3BpY1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzZW5kRXZlbnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZW5kRXZlbnQodG9waWMsIGV2ZW50LCBkYXRhKSB7XG4gICAgICBpZiAoIXRvcGljIHx8ICFldmVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3RvcGljIGFuZCBldmVudCBuYW1lIGlzIHJlcXVpcmVkIHRvIGNhbGwgc2VuZEV2ZW50IG1ldGhvZCcpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIE1ha2Ugc3VyZSB0aGVyZSBpcyBhbiBhY3RpdmUgc3Vic2NyaXB0aW9uIGZvciB0aGUgdG9waWMuIFRob3VnaCBzZXJ2ZXIgd2lsbFxuICAgICAgICogYm91bmNlIHRoZSBtZXNzYWdlLCB0aGVyZSBpcyBubyBwb2ludCBpbiBoYW1tZXJpbmcgaXRcbiAgICAgICAqL1xuICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHRoaXMuZ2V0U3Vic2NyaXB0aW9uKHRvcGljKTtcbiAgICAgIGlmICghc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlcmUgaXMgbm8gYWN0aXZlIHN1YnNjcmlwdGlvbiBmb3IgJyArIHRvcGljICsgJyB0b3BpYycpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIElmIHN1YnNjcmlwdGlvbiBzdGF0ZSBpcyBub3Qgb3BlbiwgdGhlbiB3ZSBzaG91bGQgbm90IHB1Ymxpc2hcbiAgICAgICAqIG1lc3NhZ2VzLlxuICAgICAgICpcbiAgICAgICAqIFRoZSByZWFzb24gd2UgaGF2ZSB0aGlzIGNoZWNrIG9uIGNvbm5lY3Rpb24gYW5kIG5vdCBzb2NrZXQsXG4gICAgICAgKiBpcyBjb3ogd2UgZG9uJ3Qgd2FudCBhbnlvbmUgdG8gdXNlIHRoZSBjb25uZWN0aW9uIG9iamVjdFxuICAgICAgICogYW5kIHNlbmQgcGFja2V0cywgZXZlbiB3aGVuIHN1YnNjcmlwdGlvbiBpcyBjbG9zZWQuXG4gICAgICAgKi9cbiAgICAgIGlmIChzdWJzY3JpcHRpb24uc3RhdGUgIT09ICdvcGVuJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBlbWl0IHNpbmNlIHN1YnNjcmlwdGlvbiBzb2NrZXQgaXMgaW4gJyArIHRoaXMuc3RhdGUgKyAnIHN0YXRlJyk7XG4gICAgICB9XG5cbiAgICAgIHtcbiAgICAgICAgRGVidWcoJ3NlbmRpbmcgZXZlbnQgb24gJXMgdG9waWMnLCB0b3BpYyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2VuZFBhY2tldCh3c3BfYnJvd3Nlci5ldmVudFBhY2tldCh0b3BpYywgZXZlbnQsIGRhdGEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2UgSldUIHRva2VuIHRvIGF1dGhlbnRpY2F0ZSB0aGUgdXNlclxuICAgICAqXG4gICAgICogQG1ldGhvZCB3aXRoSnd0VG9rZW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0b2tlblxuICAgICAqXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd3aXRoSnd0VG9rZW4nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB3aXRoSnd0VG9rZW4odG9rZW4pIHtcbiAgICAgIHRoaXMuX2V4dGVuZGVkUXVlcnkudG9rZW4gPSB0b2tlbjtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZSBiYXNpYyBhdXRoIGNyZWRlbnRpYWxzIHRvIGxvZ2luIHRoZSB1c2VyXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIHdpdGhCYXNpY0F1dGhcbiAgICAgKlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gIHVzZXJuYW1lXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgcGFzc3dvcmRcbiAgICAgKlxuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnd2l0aEJhc2ljQXV0aCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHdpdGhCYXNpY0F1dGgodXNlcm5hbWUsIHBhc3N3b3JkKSB7XG4gICAgICB0aGlzLl9leHRlbmRlZFF1ZXJ5LmJhc2ljID0gd2luZG93LmJ0b2EodXNlcm5hbWUgKyAnOicgKyBwYXNzd29yZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2UgcGVyc29uYWwgQVBJIHRva2VuIHRvIGF1dGhlbnRpY2F0ZSB0aGUgdXNlclxuICAgICAqXG4gICAgICogQG1ldGhvZCB3aXRoQXBpVG9rZW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0b2tlblxuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd3aXRoQXBpVG9rZW4nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB3aXRoQXBpVG9rZW4odG9rZW4pIHtcbiAgICAgIHRoaXMuX2V4dGVuZGVkUXVlcnkudG9rZW4gPSB0b2tlbjtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZvcmNlZnVsbHkgY2xvc2UgdGhlIGNvbm5lY3Rpb25cbiAgICAgKlxuICAgICAqIEBtZXRob2QgY2xvc2VcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2Nsb3NlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICB0aGlzLl9jb25uZWN0aW9uU3RhdGUgPSAndGVybWluYXRlZCc7XG4gICAgICB0aGlzLndzLmNsb3NlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2hvdWxkUmVjb25uZWN0JyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jb25uZWN0aW9uU3RhdGUgIT09ICd0ZXJtaW5hdGVkJyAmJiB0aGlzLm9wdGlvbnMucmVjb25uZWN0aW9uICYmIHRoaXMub3B0aW9ucy5yZWNvbm5lY3Rpb25BdHRlbXB0cyA+IHRoaXMuX3JlY29ubmVjdGlvbkF0dGVtcHRzO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ29ubmVjdGlvbjtcbn0oZW1pdHRlcnkpO1xuXG5mdW5jdGlvbiBpbmRleCAodXJsLCBvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgQ29ubmVjdGlvbih1cmwsIG9wdGlvbnMpO1xufVxuXG5yZXR1cm4gaW5kZXg7XG5cbn0pKSk7XG4iLCJpbXBvcnQgJ3JlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcydcclxuaW1wb3J0IFdzIGZyb20gJ0BhZG9uaXNqcy93ZWJzb2NrZXQtY2xpZW50J1xyXG5cclxubGV0IGlzQ29ubmVjdGVkID0gZmFsc2VcclxubGV0IHdzID0gbnVsbFxyXG5sZXQgY2hhdCA9IG51bGxcclxubGV0IGlzVHlwaW5nID0gZmFsc2VcclxuY29uc3QgbWVzc2FnZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21lc3NhZ2UnKVxyXG5jb25zdCBjaGF0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjaGF0LWZvcm0nKVxyXG5jb25zdCBtZXNzYWdlc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtZXNzYWdlcy1jb250YWluZXInKVxyXG5cclxubWVzc2FnZXNDb250YWluZXIuc2Nyb2xsVG9wID0gbWVzc2FnZXNDb250YWluZXIuc2Nyb2xsSGVpZ2h0XHJcblxyXG5sZXQgdG9waWMgPSBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKCcvY2hhbm5lbHMvJywgJycpO1xyXG5cclxud3MgPSBXcygpLmNvbm5lY3QoKVxyXG5cclxud3Mub24oJ29wZW4nLCAoKSA9PiB7XHJcblxyXG4gIGNvbnNvbGUubG9nKCdvcGVuJylcclxuXHJcbiAgaXNDb25uZWN0ZWQgPSB0cnVlXHJcbiAgc3Vic2NyaWJlVG9DaGFubmVsKClcclxuXHJcbn0pXHJcblxyXG53cy5vbignZXJyb3InLCAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coJ3dzIGVycm9yJylcclxuICBpc0Nvbm5lY3RlZCA9IGZhbHNlXHJcbn0pXHJcblxyXG53cy5vbignY2xvc2UnLCAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coJ3dzIGNsb3NlJylcclxuICBpc0Nvbm5lY3RlZCA9IGZhbHNlXHJcbn0pXHJcblxyXG5jb25zdCBzdWJzY3JpYmVUb0NoYW5uZWwgPSAoKSA9PiB7XHJcblxyXG4gIGNoYXQgPSB3cy5zdWJzY3JpYmUoYGNoYXQ6JHt0b3BpY31gKVxyXG5cclxuICBjaGF0Lm9uKCdyZWFkeScsICgpID0+IHtcclxuICAgIGNoYXQuZW1pdCgnY29ubmVjdGVkJylcclxuICB9KVxyXG5cclxuICBjaGF0Lm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ2NoYXQgZXJyb3InLCBlcnJvcilcclxuICB9KVxyXG5cclxuICBjaGF0Lm9uKCdjbG9zZScsICgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdjaGF0IGNsb3NlJylcclxuICB9KVxyXG5cclxuICBjaGF0Lm9uKCdtZXNzYWdlJywgKG1lc3NhZ2UpID0+IHtcclxuICAgIGNvbnN0IGFydGljbGVOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXJ0aWNsZScpXHJcbiAgICBhcnRpY2xlTm9kZS5jbGFzc0xpc3QuYWRkKCdjaGF0LW1lc3NhZ2UnLCAnbWVkaWEnLCAnaGFzLWJhY2tncm91bmQtbGlnaHQnKVxyXG5cclxuICAgIGNvbnN0IG1lZGlhQ29udGVudE5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgbWVkaWFDb250ZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdtZWRpYS1jb250ZW50JylcclxuXHJcbiAgICBjb25zdCBjb250ZW50Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICBjb250ZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdjb250ZW50JylcclxuXHJcbiAgICBjb25zdCBwYXJhZ3JhcGhOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXHJcbiAgICBjb25zdCBzdHJvbmdOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3Ryb25nJylcclxuICAgIGNvbnN0IHNtYWxsTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NtYWxsJylcclxuICAgIGNvbnN0IGJyMU5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdicicpXHJcbiAgICBjb25zdCBicjJOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnInKVxyXG5cclxuICAgIGNvbnN0IG1lc3NhZ2VWYWx1ZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG1lc3NhZ2UubWVzc2FnZS5ib2R5KVxyXG5cclxuICAgIHN0cm9uZ05vZGUuaW5uZXJIVE1MID0gbWVzc2FnZS51c2VybmFtZSArICcgJ1xyXG4gICAgc21hbGxOb2RlLmlubmVySFRNTCA9IG1lc3NhZ2UuZGVsaXZlcmVkQXRcclxuXHJcbiAgICBwYXJhZ3JhcGhOb2RlLmFwcGVuZENoaWxkKHN0cm9uZ05vZGUpXHJcbiAgICBwYXJhZ3JhcGhOb2RlLmFwcGVuZENoaWxkKHNtYWxsTm9kZSlcclxuICAgIHBhcmFncmFwaE5vZGUuYXBwZW5kQ2hpbGQoYnIxTm9kZSlcclxuICAgIHBhcmFncmFwaE5vZGUuYXBwZW5kQ2hpbGQobWVzc2FnZVZhbHVlKVxyXG4gICAgcGFyYWdyYXBoTm9kZS5hcHBlbmRDaGlsZChicjJOb2RlKVxyXG5cclxuICAgIGNvbnRlbnROb2RlLmFwcGVuZENoaWxkKHBhcmFncmFwaE5vZGUpXHJcbiAgICBtZWRpYUNvbnRlbnROb2RlLmFwcGVuZENoaWxkKGNvbnRlbnROb2RlKVxyXG4gICAgYXJ0aWNsZU5vZGUuYXBwZW5kQ2hpbGQobWVkaWFDb250ZW50Tm9kZSlcclxuXHJcbiAgICBtZXNzYWdlc0NvbnRhaW5lci5hcHBlbmRDaGlsZChhcnRpY2xlTm9kZSlcclxuXHJcbiAgICBtZXNzYWdlc0NvbnRhaW5lci5zY3JvbGxUb3AgPSBtZXNzYWdlc0NvbnRhaW5lci5zY3JvbGxIZWlnaHRcclxuICB9KVxyXG5cclxuICBjaGF0Lm9uKCd0eXBpbmcnLCAodXNlclR5cGluZykgPT4ge1xyXG5cclxuICAgIGNvbnN0IGFydGljbGVOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXJ0aWNsZScpXHJcbiAgICBhcnRpY2xlTm9kZS5jbGFzc0xpc3QuYWRkKCdjaGF0LW1lc3NhZ2UnLCAnbWVkaWEnLCAnaGFzLWJhY2tncm91bmQtbGlnaHQnLCBgdHlwaW5nLSR7dXNlclR5cGluZy5yZXBsYWNlKC9cXHMvZywgJycpfWApXHJcblxyXG4gICAgY29uc3QgbWVkaWFDb250ZW50Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICBtZWRpYUNvbnRlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ21lZGlhLWNvbnRlbnQnKVxyXG5cclxuICAgIGNvbnN0IGNvbnRlbnROb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgIGNvbnRlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ2NvbnRlbnQnKVxyXG5cclxuICAgIGNvbnN0IHBhcmFncmFwaE5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcclxuXHJcbiAgICBjb25zdCBtZXNzYWdlVmFsdWUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShgJHt1c2VyVHlwaW5nfSBpcyB0eXBpbmcgLi4uYClcclxuXHJcbiAgICBwYXJhZ3JhcGhOb2RlLmFwcGVuZENoaWxkKG1lc3NhZ2VWYWx1ZSlcclxuXHJcbiAgICBjb250ZW50Tm9kZS5hcHBlbmRDaGlsZChwYXJhZ3JhcGhOb2RlKVxyXG4gICAgbWVkaWFDb250ZW50Tm9kZS5hcHBlbmRDaGlsZChjb250ZW50Tm9kZSlcclxuICAgIGFydGljbGVOb2RlLmFwcGVuZENoaWxkKG1lZGlhQ29udGVudE5vZGUpXHJcblxyXG4gICAgbWVzc2FnZXNDb250YWluZXIuYXBwZW5kQ2hpbGQoYXJ0aWNsZU5vZGUpXHJcblxyXG4gICAgbWVzc2FnZXNDb250YWluZXIuc2Nyb2xsVG9wID0gbWVzc2FnZXNDb250YWluZXIuc2Nyb2xsSGVpZ2h0XHJcbiAgfSlcclxuXHJcbiAgY2hhdC5vbignc3RvcFR5cGluZycsICh1c2VyVHlwaW5nKSA9PiB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAudHlwaW5nLSR7dXNlclR5cGluZ31gKS5yZW1vdmUoKVxyXG4gIH0pXHJcbn1cclxuXHJcbm1lc3NhZ2VJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChldmVudCkgPT4ge1xyXG5cclxuICBpZiAoIWlzVHlwaW5nKSB7XHJcbiAgICBpc1R5cGluZyA9IHRydWVcclxuICAgIGNoYXQuZW1pdCgndHlwaW5nJylcclxuICB9XHJcblxyXG4gIGxldCBsYXN0VHlwaW5nVGltZSA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XHJcblxyXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgbGV0IHR5cGluZ1RpbWVyID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcclxuICAgIGxldCB0aW1lRGlmZiA9IHR5cGluZ1RpbWVyIC0gbGFzdFR5cGluZ1RpbWU7XHJcbiAgICBpZiAodGltZURpZmYgPj0gNDAwMCAmJiBpc1R5cGluZykge1xyXG4gICAgICBjaGF0LmVtaXQoJ3N0b3BUeXBpbmcnKVxyXG4gICAgICBpc1R5cGluZyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH0sIDQwMDApO1xyXG59KVxyXG5cclxuY2hhdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2ZW50KSA9PiB7XHJcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG5cclxuICBpZiAobWVzc2FnZUlucHV0LnZhbHVlLmxlbmd0aClcclxuICAgIGNoYXQuZW1pdCgnbWVzc2FnZScsIHtcclxuICAgICAgYm9keTogbWVzc2FnZUlucHV0LnZhbHVlLFxyXG4gICAgICBjaGFubmVsOiB0b3BpY1xyXG4gIH0pXHJcblxyXG4gIGNoYXQuZW1pdCgnc3RvcFR5cGluZycpXHJcbiAgaXNUeXBpbmcgPSBmYWxzZTtcclxuXHJcbiAgbWVzc2FnZUlucHV0LnZhbHVlID0gJyc7XHJcbiAgbWVzc2FnZUlucHV0LmZvY3VzKClcclxuXHJcbn0pXHJcblxyXG5cclxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4hKGZ1bmN0aW9uKGdsb2JhbCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgT3AgPSBPYmplY3QucHJvdG90eXBlO1xuICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7XG4gIHZhciB1bmRlZmluZWQ7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuICB2YXIgJFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbCA6IHt9O1xuICB2YXIgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiO1xuICB2YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiO1xuICB2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiO1xuXG4gIHZhciBpbk1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCI7XG4gIHZhciBydW50aW1lID0gZ2xvYmFsLnJlZ2VuZXJhdG9yUnVudGltZTtcbiAgaWYgKHJ1bnRpbWUpIHtcbiAgICBpZiAoaW5Nb2R1bGUpIHtcbiAgICAgIC8vIElmIHJlZ2VuZXJhdG9yUnVudGltZSBpcyBkZWZpbmVkIGdsb2JhbGx5IGFuZCB3ZSdyZSBpbiBhIG1vZHVsZSxcbiAgICAgIC8vIG1ha2UgdGhlIGV4cG9ydHMgb2JqZWN0IGlkZW50aWNhbCB0byByZWdlbmVyYXRvclJ1bnRpbWUuXG4gICAgICBtb2R1bGUuZXhwb3J0cyA9IHJ1bnRpbWU7XG4gICAgfVxuICAgIC8vIERvbid0IGJvdGhlciBldmFsdWF0aW5nIHRoZSByZXN0IG9mIHRoaXMgZmlsZSBpZiB0aGUgcnVudGltZSB3YXNcbiAgICAvLyBhbHJlYWR5IGRlZmluZWQgZ2xvYmFsbHkuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRGVmaW5lIHRoZSBydW50aW1lIGdsb2JhbGx5IChhcyBleHBlY3RlZCBieSBnZW5lcmF0ZWQgY29kZSkgYXMgZWl0aGVyXG4gIC8vIG1vZHVsZS5leHBvcnRzIChpZiB3ZSdyZSBpbiBhIG1vZHVsZSkgb3IgYSBuZXcsIGVtcHR5IG9iamVjdC5cbiAgcnVudGltZSA9IGdsb2JhbC5yZWdlbmVyYXRvclJ1bnRpbWUgPSBpbk1vZHVsZSA/IG1vZHVsZS5leHBvcnRzIDoge307XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgcnVudGltZS53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgSXRlcmF0b3JQcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiZcbiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJlxuICAgICAgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkge1xuICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPVxuICAgIEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR3AuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvbjtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGVbdG9TdHJpbmdUYWdTeW1ib2xdID1cbiAgICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICBwcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBydW50aW1lLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3JcbiAgICAgID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHxcbiAgICAgICAgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgICAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuICBydW50aW1lLm1hcmsgPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICAgIGlmICghKHRvU3RyaW5nVGFnU3ltYm9sIGluIGdlbkZ1bikpIHtcbiAgICAgICAgZ2VuRnVuW3RvU3RyaW5nVGFnU3ltYm9sXSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC5cbiAgcnVudGltZS5hd3JhcCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlY29yZC5hcmc7XG4gICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIikpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGludm9rZShcIm5leHRcIiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJ0aHJvd1wiLCBlcnIsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkge1xuICAgICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzXG4gICAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uIElmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLCBob3dldmVyLCB0aGVcbiAgICAgICAgICAvLyByZXN1bHQgZm9yIHRoaXMgaXRlcmF0aW9uIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aCB0aGUgc2FtZVxuICAgICAgICAgIC8vIHJlYXNvbi4gTm90ZSB0aGF0IHJlamVjdGlvbnMgb2YgeWllbGRlZCBQcm9taXNlcyBhcmUgbm90XG4gICAgICAgICAgLy8gdGhyb3duIGJhY2sgaW50byB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uLCBhcyBpcyB0aGUgY2FzZVxuICAgICAgICAgIC8vIHdoZW4gYW4gYXdhaXRlZCBQcm9taXNlIGlzIHJlamVjdGVkLiBUaGlzIGRpZmZlcmVuY2UgaW5cbiAgICAgICAgICAvLyBiZWhhdmlvciBiZXR3ZWVuIHlpZWxkIGFuZCBhd2FpdCBpcyBpbXBvcnRhbnQsIGJlY2F1c2UgaXRcbiAgICAgICAgICAvLyBhbGxvd3MgdGhlIGNvbnN1bWVyIHRvIGRlY2lkZSB3aGF0IHRvIGRvIHdpdGggdGhlIHlpZWxkZWRcbiAgICAgICAgICAvLyByZWplY3Rpb24gKHN3YWxsb3cgaXQgYW5kIGNvbnRpbnVlLCBtYW51YWxseSAudGhyb3cgaXQgYmFja1xuICAgICAgICAgIC8vIGludG8gdGhlIGdlbmVyYXRvciwgYWJhbmRvbiBpdGVyYXRpb24sIHdoYXRldmVyKS4gV2l0aFxuICAgICAgICAgIC8vIGF3YWl0LCBieSBjb250cmFzdCwgdGhlcmUgaXMgbm8gb3Bwb3J0dW5pdHkgdG8gZXhhbWluZSB0aGVcbiAgICAgICAgICAvLyByZWplY3Rpb24gcmVhc29uIG91dHNpZGUgdGhlIGdlbmVyYXRvciBmdW5jdGlvbiwgc28gdGhlXG4gICAgICAgICAgLy8gb25seSBvcHRpb24gaXMgdG8gdGhyb3cgaXQgZnJvbSB0aGUgYXdhaXQgZXhwcmVzc2lvbiwgYW5kXG4gICAgICAgICAgLy8gbGV0IHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24gaGFuZGxlIHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuXG4gICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykge1xuICAgICAgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID1cbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLFxuICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnXG4gICAgICAgICkgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG4gIEFzeW5jSXRlcmF0b3IucHJvdG90eXBlW2FzeW5jSXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBydW50aW1lLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBydW50aW1lLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKFxuICAgICAgd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdClcbiAgICApO1xuXG4gICAgcmV0dXJuIHJ1bnRpbWUuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKVxuICAgICAgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICAgICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQubWV0aG9kID0gbWV0aG9kO1xuICAgICAgY29udGV4dC5hcmcgPSBhcmc7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZVJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgLy8gU2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgY29udGV4dC5hcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuYXJnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG5cbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLlxuICAgICAgICAgIHN0YXRlID0gY29udGV4dC5kb25lXG4gICAgICAgICAgICA/IEdlblN0YXRlQ29tcGxldGVkXG4gICAgICAgICAgICA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcblxuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgIC8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGVcbiAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKSBjYWxsIGFib3ZlLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGVcbiAgLy8gcmVzdWx0LCBlaXRoZXIgYnkgcmV0dXJuaW5nIGEgeyB2YWx1ZSwgZG9uZSB9IHJlc3VsdCBmcm9tIHRoZVxuICAvLyBkZWxlZ2F0ZSBpdGVyYXRvciwgb3IgYnkgbW9kaWZ5aW5nIGNvbnRleHQubWV0aG9kIGFuZCBjb250ZXh0LmFyZyxcbiAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuXG4gIGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdO1xuICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQSAudGhyb3cgb3IgLnJldHVybiB3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gLnRocm93XG4gICAgICAvLyBtZXRob2QgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIGlmIChkZWxlZ2F0ZS5pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcblxuICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAvLyBJZiBtYXliZUludm9rZURlbGVnYXRlKGNvbnRleHQpIGNoYW5nZWQgY29udGV4dC5tZXRob2QgZnJvbVxuICAgICAgICAgICAgLy8gXCJyZXR1cm5cIiB0byBcInRocm93XCIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuXG4gICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgIFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZFwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTtcblxuICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuXG4gICAgaWYgKCEgaW5mbykge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKTtcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnlcbiAgICAgIC8vIHZhcmlhYmxlIHNwZWNpZmllZCBieSBkZWxlZ2F0ZS5yZXN1bHROYW1lIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcblxuICAgICAgLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcblxuICAgICAgLy8gSWYgY29udGV4dC5tZXRob2Qgd2FzIFwidGhyb3dcIiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlXG4gICAgICAvLyBleGNlcHRpb24sIGxldCB0aGUgb3V0ZXIgZ2VuZXJhdG9yIHByb2NlZWQgbm9ybWFsbHkuIElmXG4gICAgICAvLyBjb250ZXh0Lm1ldGhvZCB3YXMgXCJuZXh0XCIsIGZvcmdldCBjb250ZXh0LmFyZyBzaW5jZSBpdCBoYXMgYmVlblxuICAgICAgLy8gXCJjb25zdW1lZFwiIGJ5IHRoZSBkZWxlZ2F0ZSBpdGVyYXRvci4gSWYgY29udGV4dC5tZXRob2Qgd2FzXG4gICAgICAvLyBcInJldHVyblwiLCBhbGxvdyB0aGUgb3JpZ2luYWwgLnJldHVybiBjYWxsIHRvIGNvbnRpbnVlIGluIHRoZVxuICAgICAgLy8gb3V0ZXIgZ2VuZXJhdG9yLlxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kICE9PSBcInJldHVyblwiKSB7XG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlLXlpZWxkIHRoZSByZXN1bHQgcmV0dXJuZWQgYnkgdGhlIGRlbGVnYXRlIG1ldGhvZC5cbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIC8vIFRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBpcyBmaW5pc2hlZCwgc28gZm9yZ2V0IGl0IGFuZCBjb250aW51ZSB3aXRoXG4gICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci5cbiAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgfVxuXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcblxuICBHcFt0b1N0cmluZ1RhZ1N5bWJvbF0gPSBcIkdlbmVyYXRvclwiO1xuXG4gIC8vIEEgR2VuZXJhdG9yIHNob3VsZCBhbHdheXMgcmV0dXJuIGl0c2VsZiBhcyB0aGUgaXRlcmF0b3Igb2JqZWN0IHdoZW4gdGhlXG4gIC8vIEBAaXRlcmF0b3IgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIGl0LiBTb21lIGJyb3dzZXJzJyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlXG4gIC8vIGl0ZXJhdG9yIHByb3RvdHlwZSBjaGFpbiBpbmNvcnJlY3RseSBpbXBsZW1lbnQgdGhpcywgY2F1c2luZyB0aGUgR2VuZXJhdG9yXG4gIC8vIG9iamVjdCB0byBub3QgYmUgcmV0dXJuZWQgZnJvbSB0aGlzIGNhbGwuIFRoaXMgZW5zdXJlcyB0aGF0IGRvZXNuJ3QgaGFwcGVuLlxuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2lzc3Vlcy8yNzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgR3BbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgR3AudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIHJ1bnRpbWUua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBydW50aW1lLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJlxuICAgICAgICAgICAgICBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJlxuICAgICAgICAgICAgICAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgaWYgKGNhdWdodCkge1xuICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICEhIGNhdWdodDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJydXB0OiBmdW5jdGlvbih0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJlxuICAgICAgICAgICAgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmluYWxseUVudHJ5ICYmXG4gICAgICAgICAgKHR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgICB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmXG4gICAgICAgICAgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiZcbiAgICAgICAgICBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYVxuICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlO1xuICAgICAgcmVjb3JkLmFyZyA9IGFyZztcblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgfSxcblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgIHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbihmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG5cbiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbihpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xufSkoXG4gIC8vIEluIHNsb3BweSBtb2RlLCB1bmJvdW5kIGB0aGlzYCByZWZlcnMgdG8gdGhlIGdsb2JhbCBvYmplY3QsIGZhbGxiYWNrIHRvXG4gIC8vIEZ1bmN0aW9uIGNvbnN0cnVjdG9yIGlmIHdlJ3JlIGluIGdsb2JhbCBzdHJpY3QgbW9kZS4gVGhhdCBpcyBzYWRseSBhIGZvcm1cbiAgLy8gb2YgaW5kaXJlY3QgZXZhbCB3aGljaCB2aW9sYXRlcyBDb250ZW50IFNlY3VyaXR5IFBvbGljeS5cbiAgKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcyB9KSgpIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKVxuKTtcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iXSwic291cmNlUm9vdCI6IiJ9